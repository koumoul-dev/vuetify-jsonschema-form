import{c as Ds,g as br}from"./BosuxZz1.js";import{I as Ra,b9 as Ms,ba as Vs,Z as Ta,aI as zs,i as mr,au as Aa,aT as Fs,aR as qs,E as Kt,b7 as Us,a1 as Wr,W as Ia,r as Ls}from"./Db_1TMCl.js";const ka={$id:"https://json-layout.github.io/layout-keyword",$defs:{"layout-keyword":{title:"layout keyword",errorMessage:{anyOf:"layout keyword must be a string with a valid component name, or a more complete object definition, or an array of children, or a switch structure"},anyOf:[{$ref:"#/$defs/comp-name"},{$ref:"#/$defs/partial-children"},{$ref:"#/$defs/partial-comp-object"},{$ref:"#/$defs/partial-switch"}]},"partial-switch":{type:"object",required:["switch"],additionalProperties:!1,properties:{switch:{type:"array",items:{$ref:"#/$defs/partial-comp-object"}}}},"partial-comp-object":{title:"partial comp object",type:"object",properties:{comp:{$ref:"#/$defs/comp-name"},help:{type:"string"},children:{$ref:"#/$defs/partial-children"},label:{type:"string"},hint:{type:["string","null"]},title:{type:["string","null"]},subtitle:{type:["string","null"]},step:{type:"number"},if:{$ref:"#/$defs/partial-expression"},items:{type:"array",items:{$ref:"#/$defs/partial-select-item"}},getItems:{$ref:"#/$defs/partial-get-items"},listEditMode:{type:"string",enum:["inline","inline-single","menu","dialog"]},listActions:{type:"array",items:{type:"string",enum:["add","edit","delete","sort","duplicate"]}},cols:{$ref:"#/$defs/partial-cols"},props:{type:"object"},getProps:{$ref:"#/$defs/partial-expression"},slots:{type:"object",patternProperties:{".*":{$ref:"#/$defs/partial-slot"}}},options:{type:"object"},getOptions:{$ref:"#/$defs/partial-expression"},messages:{type:"object"},defaultData:{},getDefaultData:{$ref:"#/$defs/partial-expression"},constData:{},getConstData:{$ref:"#/$defs/partial-expression"},transformData:{$ref:"#/$defs/partial-expression"},autofocus:{type:"boolean"},separator:{type:"string"}}},"comp-name":{title:"component name",type:"string"},"partial-child-ref":{type:"object",required:["key"],additionalProperties:!1,properties:{key:{type:["string","integer"]},cols:{$ref:"#/$defs/partial-cols"},if:{$ref:"#/$defs/partial-expression"},slots:{type:"object",patternProperties:{".*":{$ref:"#/$defs/partial-slot"}}}}},"partial-child-composite":{type:"object",required:["children"],properties:{comp:{type:"string"},title:{type:["string","null"]},subtitle:{type:["string","null"]},children:{$ref:"#/$defs/partial-children"},cols:{$ref:"#/$defs/partial-cols"},if:{$ref:"#/$defs/partial-expression"},slots:{type:"object",patternProperties:{".*":{$ref:"#/$defs/partial-slot"}}}}},"partial-child-slot":{type:"object",properties:{cols:{$ref:"#/$defs/partial-cols"},if:{$ref:"#/$defs/partial-expression"}},oneOf:[{$ref:"#/$defs/partial-slot-text"},{$ref:"#/$defs/partial-slot-markdown"},{$ref:"#/$defs/partial-slot-name"}]},"partial-child":{anyOf:[{type:"string"},{type:"array",items:{$ref:"#/$defs/partial-child"}},{$ref:"#/$defs/partial-child-ref"},{$ref:"#/$defs/partial-child-composite"},{$ref:"#/$defs/partial-child-slot"}]},"partial-children":{type:"array",items:{$ref:"#/$defs/partial-child"}},"partial-expression":{oneOf:[{type:"string"},{$ref:"#/$defs/partial-expression-obj"}]},"partial-expression-obj":{type:"object",required:["expr"],properties:{type:{type:"string",enum:["js-fn","js-eval","js-tpl"]},expr:{type:"string"}}},"partial-select-item":{oneOf:[{type:"string"},{type:"object",properties:{key:{type:"string"},title:{type:"string"},value:{}}}]},"partial-get-items":{oneOf:[{type:"string"},{$ref:"#/$defs/partial-get-items-obj"}]},"partial-get-items-obj":{type:"object",allOf:[{properties:{itemTitle:{$ref:"#/$defs/partial-expression"},itemKey:{$ref:"#/$defs/partial-expression"},itemValue:{$ref:"#/$defs/partial-expression"},itemIcon:{$ref:"#/$defs/partial-expression"},itemsResults:{$ref:"#/$defs/partial-expression"}}},{anyOf:[{type:"object"},{$ref:"#/$defs/partial-expression-obj"},{$ref:"#/$defs/partial-get-items-fetch"}]}]},"partial-get-items-fetch":{type:"object",required:["url"],properties:{url:{$ref:"#/$defs/partial-expression"}}},"partial-cols":{oneOf:[{$ref:"#/$defs/partial-cols-number"},{$ref:"#/$defs/partial-cols-obj"}]},"partial-cols-obj":{type:"object",additionalProperties:!1,properties:{xs:{$ref:"#/$defs/partial-cols-number"},sm:{$ref:"#/$defs/partial-cols-number"},md:{$ref:"#/$defs/partial-cols-number"},lg:{$ref:"#/$defs/partial-cols-number"},xl:{$ref:"#/$defs/partial-cols-number"},xxl:{$ref:"#/$defs/partial-cols-number"}}},"partial-cols-number":{type:"integer",minimum:0,maximum:12},"partial-slot":{oneOf:[{type:"string"},{$ref:"#/$defs/partial-slot-text"},{$ref:"#/$defs/partial-slot-markdown"},{$ref:"#/$defs/partial-slot-name"}]},"partial-slot-text":{type:"object",additionalProperties:!1,required:["text"],properties:{text:{type:"string"}}},"partial-slot-markdown":{type:"object",additionalProperties:!1,required:["markdown"],properties:{markdown:{type:"string"}}},"partial-slot-name":{type:"object",additionalProperties:!1,required:["name"],properties:{name:{type:"string"}}}}};var zr={exports:{}},Yr={},Pe={},wt={},St={},W={},Et={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor($){if(super(),!e.IDENTIFIER.test($))throw new Error("CodeGen: name must be a valid identifier");this.str=$}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor($){super(),this._items=typeof $=="string"?[$]:$}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const $=this._items[0];return $===""||$==='""'}get str(){var $;return($=this._str)!==null&&$!==void 0?$:this._str=this._items.reduce((j,I)=>`${j}${I}`,"")}get names(){var $;return($=this._names)!==null&&$!==void 0?$:this._names=this._items.reduce((j,I)=>(I instanceof r&&(j[I.str]=(j[I.str]||0)+1),j),{})}}e._Code=n,e.nil=new n("");function a(m,...$){const j=[m[0]];let I=0;for(;I<$.length;)d(j,$[I]),j.push(m[++I]);return new n(j)}e._=a;const o=new n("+");function c(m,...$){const j=[A(m[0])];let I=0;for(;I<$.length;)j.push(o),d(j,$[I]),j.push(o,A(m[++I]));return l(j),new n(j)}e.str=c;function d(m,$){$ instanceof n?m.push(...$._items):$ instanceof r?m.push($):m.push(g($))}e.addCodeArg=d;function l(m){let $=1;for(;$<m.length-1;){if(m[$]===o){const j=u(m[$-1],m[$+1]);if(j!==void 0){m.splice($-1,3,j);continue}m[$++]="+"}$++}}function u(m,$){if($==='""')return m;if(m==='""')return $;if(typeof m=="string")return $ instanceof r||m[m.length-1]!=='"'?void 0:typeof $!="string"?`${m.slice(0,-1)}${$}"`:$[0]==='"'?m.slice(0,-1)+$.slice(1):void 0;if(typeof $=="string"&&$[0]==='"'&&!(m instanceof r))return`"${m}${$.slice(1)}`}function p(m,$){return $.emptyStr()?m:m.emptyStr()?$:c`${m}${$}`}e.strConcat=p;function g(m){return typeof m=="number"||typeof m=="boolean"||m===null?m:A(Array.isArray(m)?m.join(","):m)}function T(m){return new n(A(m))}e.stringify=T;function A(m){return JSON.stringify(m).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=A;function E(m){return typeof m=="string"&&e.IDENTIFIER.test(m)?new n(`.${m}`):a`[${m}]`}e.getProperty=E;function S(m){if(typeof m=="string"&&e.IDENTIFIER.test(m))return new n(`${m}`);throw new Error(`CodeGen: invalid export name: ${m}, use explicit $id name mapping`)}e.getEsmExportName=S;function _(m){return new n(m.toString())}e.regexpCode=_})(Et);var Fr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Et;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:u,parent:p}={}){this._names={},this._prefixes=u,this._parent=p}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const p=this._names[u]||this._nameGroup(u);return`${u}${p.index++}`}_nameGroup(u){var p,g;if(!((g=(p=this._parent)===null||p===void 0?void 0:p._prefixes)===null||g===void 0)&&g.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=a;class o extends t.Name{constructor(u,p){super(p),this.prefix=u}setValue(u,{property:p,itemIndex:g}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(p)}[${g}]`}}e.ValueScopeName=o;const c=(0,t._)`\n`;class d extends a{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?c:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,p){var g;if(p.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const T=this.toName(u),{prefix:A}=T,E=(g=p.key)!==null&&g!==void 0?g:p.ref;let S=this._values[A];if(S){const $=S.get(E);if($)return $}else S=this._values[A]=new Map;S.set(E,T);const _=this._scope[A]||(this._scope[A]=[]),m=_.length;return _[m]=p.ref,T.setValue(p,{property:A,itemIndex:m}),T}getValue(u,p){const g=this._values[u];if(g)return g.get(p)}scopeRefs(u,p=this._values){return this._reduceValues(p,g=>{if(g.scopePath===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return(0,t._)`${u}${g.scopePath}`})}scopeCode(u=this._values,p,g){return this._reduceValues(u,T=>{if(T.value===void 0)throw new Error(`CodeGen: name "${T}" has no value`);return T.value.code},p,g)}_reduceValues(u,p,g={},T){let A=t.nil;for(const E in u){const S=u[E];if(!S)continue;const _=g[E]=g[E]||new Map;S.forEach(m=>{if(_.has(m))return;_.set(m,n.Started);let $=p(m);if($){const j=this.opts.es5?e.varKinds.var:e.varKinds.const;A=(0,t._)`${A}${j} ${m} = ${$};${this.opts._n}`}else if($=T==null?void 0:T(m))A=(0,t._)`${A}${$}${this.opts._n}`;else throw new r(m);_.set(m,n.Completed)})}return A}}e.ValueScope=d})(Fr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Et,r=Fr;var n=Et;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Fr;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(s,f){return this}}class c extends o{constructor(s,f,O){super(),this.varKind=s,this.name=f,this.rhs=O}render({es5:s,_n:f}){const O=s?r.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${O} ${this.name}${V};`+f}optimizeNames(s,f){if(s[this.name.str])return this.rhs&&(this.rhs=re(this.rhs,s,f)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class d extends o{constructor(s,f,O){super(),this.lhs=s,this.rhs=f,this.sideEffects=O}render({_n:s}){return`${this.lhs} = ${this.rhs};`+s}optimizeNames(s,f){if(!(this.lhs instanceof t.Name&&!s[this.lhs.str]&&!this.sideEffects))return this.rhs=re(this.rhs,s,f),this}get names(){const s=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ue(s,this.rhs)}}class l extends d{constructor(s,f,O,V){super(s,O,V),this.op=f}render({_n:s}){return`${this.lhs} ${this.op}= ${this.rhs};`+s}}class u extends o{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`${this.label}:`+s}}class p extends o{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`break${this.label?` ${this.label}`:""};`+s}}class g extends o{constructor(s){super(),this.error=s}render({_n:s}){return`throw ${this.error};`+s}get names(){return this.error.names}}class T extends o{constructor(s){super(),this.code=s}render({_n:s}){return`${this.code};`+s}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(s,f){return this.code=re(this.code,s,f),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class A extends o{constructor(s=[]){super(),this.nodes=s}render(s){return this.nodes.reduce((f,O)=>f+O.render(s),"")}optimizeNodes(){const{nodes:s}=this;let f=s.length;for(;f--;){const O=s[f].optimizeNodes();Array.isArray(O)?s.splice(f,1,...O):O?s[f]=O:s.splice(f,1)}return s.length>0?this:void 0}optimizeNames(s,f){const{nodes:O}=this;let V=O.length;for(;V--;){const D=O[V];D.optimizeNames(s,f)||(ve(s,D.names),O.splice(V,1))}return O.length>0?this:void 0}get names(){return this.nodes.reduce((s,f)=>H(s,f.names),{})}}class E extends A{render(s){return"{"+s._n+super.render(s)+"}"+s._n}}class S extends A{}class _ extends E{}_.kind="else";class m extends E{constructor(s,f){super(f),this.condition=s}render(s){let f=`if(${this.condition})`+super.render(s);return this.else&&(f+="else "+this.else.render(s)),f}optimizeNodes(){super.optimizeNodes();const s=this.condition;if(s===!0)return this.nodes;let f=this.else;if(f){const O=f.optimizeNodes();f=this.else=Array.isArray(O)?new _(O):O}if(f)return s===!1?f instanceof m?f:f.nodes:this.nodes.length?this:new m(Te(s),f instanceof m?[f]:f.nodes);if(!(s===!1||!this.nodes.length))return this}optimizeNames(s,f){var O;if(this.else=(O=this.else)===null||O===void 0?void 0:O.optimizeNames(s,f),!!(super.optimizeNames(s,f)||this.else))return this.condition=re(this.condition,s,f),this}get names(){const s=super.names;return ue(s,this.condition),this.else&&H(s,this.else.names),s}}m.kind="if";class $ extends E{}$.kind="for";class j extends ${constructor(s){super(),this.iteration=s}render(s){return`for(${this.iteration})`+super.render(s)}optimizeNames(s,f){if(super.optimizeNames(s,f))return this.iteration=re(this.iteration,s,f),this}get names(){return H(super.names,this.iteration.names)}}class I extends ${constructor(s,f,O,V){super(),this.varKind=s,this.name=f,this.from=O,this.to=V}render(s){const f=s.es5?r.varKinds.var:this.varKind,{name:O,from:V,to:D}=this;return`for(${f} ${O}=${V}; ${O}<${D}; ${O}++)`+super.render(s)}get names(){const s=ue(super.names,this.from);return ue(s,this.to)}}class M extends ${constructor(s,f,O,V){super(),this.loop=s,this.varKind=f,this.name=O,this.iterable=V}render(s){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(s)}optimizeNames(s,f){if(super.optimizeNames(s,f))return this.iterable=re(this.iterable,s,f),this}get names(){return H(super.names,this.iterable.names)}}class w extends E{constructor(s,f,O){super(),this.name=s,this.args=f,this.async=O}render(s){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(s)}}w.kind="func";class R extends A{render(s){return"return "+super.render(s)}}R.kind="return";class k extends E{render(s){let f="try"+super.render(s);return this.catch&&(f+=this.catch.render(s)),this.finally&&(f+=this.finally.render(s)),f}optimizeNodes(){var s,f;return super.optimizeNodes(),(s=this.catch)===null||s===void 0||s.optimizeNodes(),(f=this.finally)===null||f===void 0||f.optimizeNodes(),this}optimizeNames(s,f){var O,V;return super.optimizeNames(s,f),(O=this.catch)===null||O===void 0||O.optimizeNames(s,f),(V=this.finally)===null||V===void 0||V.optimizeNames(s,f),this}get names(){const s=super.names;return this.catch&&H(s,this.catch.names),this.finally&&H(s,this.finally.names),s}}class z extends E{constructor(s){super(),this.error=s}render(s){return`catch(${this.error})`+super.render(s)}}z.kind="catch";class q extends E{render(s){return"finally"+super.render(s)}}q.kind="finally";class X{constructor(s,f={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...f,_n:f.lines?`
`:""},this._extScope=s,this._scope=new r.Scope({parent:s}),this._nodes=[new S]}toString(){return this._root.render(this.opts)}name(s){return this._scope.name(s)}scopeName(s){return this._extScope.name(s)}scopeValue(s,f){const O=this._extScope.value(s,f);return(this._values[O.prefix]||(this._values[O.prefix]=new Set)).add(O),O}getScopeValue(s,f){return this._extScope.getValue(s,f)}scopeRefs(s){return this._extScope.scopeRefs(s,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(s,f,O,V){const D=this._scope.toName(f);return O!==void 0&&V&&(this._constants[D.str]=O),this._leafNode(new c(s,D,O)),D}const(s,f,O){return this._def(r.varKinds.const,s,f,O)}let(s,f,O){return this._def(r.varKinds.let,s,f,O)}var(s,f,O){return this._def(r.varKinds.var,s,f,O)}assign(s,f,O){return this._leafNode(new d(s,f,O))}add(s,f){return this._leafNode(new l(s,e.operators.ADD,f))}code(s){return typeof s=="function"?s():s!==t.nil&&this._leafNode(new T(s)),this}object(...s){const f=["{"];for(const[O,V]of s)f.length>1&&f.push(","),f.push(O),(O!==V||this.opts.es5)&&(f.push(":"),(0,t.addCodeArg)(f,V));return f.push("}"),new t._Code(f)}if(s,f,O){if(this._blockNode(new m(s)),f&&O)this.code(f).else().code(O).endIf();else if(f)this.code(f).endIf();else if(O)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(s){return this._elseNode(new m(s))}else(){return this._elseNode(new _)}endIf(){return this._endBlockNode(m,_)}_for(s,f){return this._blockNode(s),f&&this.code(f).endFor(),this}for(s,f){return this._for(new j(s),f)}forRange(s,f,O,V,D=this.opts.es5?r.varKinds.var:r.varKinds.let){const U=this._scope.toName(s);return this._for(new I(D,U,f,O),()=>V(U))}forOf(s,f,O,V=r.varKinds.const){const D=this._scope.toName(s);if(this.opts.es5){const U=f instanceof t.Name?f:this.var("_arr",f);return this.forRange("_i",0,(0,t._)`${U}.length`,B=>{this.var(D,(0,t._)`${U}[${B}]`),O(D)})}return this._for(new M("of",V,D,f),()=>O(D))}forIn(s,f,O,V=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(s,(0,t._)`Object.keys(${f})`,O);const D=this._scope.toName(s);return this._for(new M("in",V,D,f),()=>O(D))}endFor(){return this._endBlockNode($)}label(s){return this._leafNode(new u(s))}break(s){return this._leafNode(new p(s))}return(s){const f=new R;if(this._blockNode(f),this.code(s),f.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(R)}try(s,f,O){if(!f&&!O)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new k;if(this._blockNode(V),this.code(s),f){const D=this.name("e");this._currNode=V.catch=new z(D),f(D)}return O&&(this._currNode=V.finally=new q,this.code(O)),this._endBlockNode(z,q)}throw(s){return this._leafNode(new g(s))}block(s,f){return this._blockStarts.push(this._nodes.length),s&&this.code(s).endBlock(f),this}endBlock(s){const f=this._blockStarts.pop();if(f===void 0)throw new Error("CodeGen: not in self-balancing block");const O=this._nodes.length-f;if(O<0||s!==void 0&&O!==s)throw new Error(`CodeGen: wrong number of nodes: ${O} vs ${s} expected`);return this._nodes.length=f,this}func(s,f=t.nil,O,V){return this._blockNode(new w(s,f,O)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(s=1){for(;s-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(s){return this._currNode.nodes.push(s),this}_blockNode(s){this._currNode.nodes.push(s),this._nodes.push(s)}_endBlockNode(s,f){const O=this._currNode;if(O instanceof s||f&&O instanceof f)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${f?`${s.kind}/${f.kind}`:s.kind}"`)}_elseNode(s){const f=this._currNode;if(!(f instanceof m))throw new Error('CodeGen: "else" without "if"');return this._currNode=f.else=s,this}get _root(){return this._nodes[0]}get _currNode(){const s=this._nodes;return s[s.length-1]}set _currNode(s){const f=this._nodes;f[f.length-1]=s}}e.CodeGen=X;function H(v,s){for(const f in s)v[f]=(v[f]||0)+(s[f]||0);return v}function ue(v,s){return s instanceof t._CodeOrName?H(v,s.names):v}function re(v,s,f){if(v instanceof t.Name)return O(v);if(!V(v))return v;return new t._Code(v._items.reduce((D,U)=>(U instanceof t.Name&&(U=O(U)),U instanceof t._Code?D.push(...U._items):D.push(U),D),[]));function O(D){const U=f[D.str];return U===void 0||s[D.str]!==1?D:(delete s[D.str],U)}function V(D){return D instanceof t._Code&&D._items.some(U=>U instanceof t.Name&&s[U.str]===1&&f[U.str]!==void 0)}}function ve(v,s){for(const f in s)v[f]=(v[f]||0)-(s[f]||0)}function Te(v){return typeof v=="boolean"||typeof v=="number"||v===null?!v:(0,t._)`!${P(v)}`}e.not=Te;const He=b(e.operators.AND);function Qe(...v){return v.reduce(He)}e.and=Qe;const Ae=b(e.operators.OR);function F(...v){return v.reduce(Ae)}e.or=F;function b(v){return(s,f)=>s===t.nil?f:f===t.nil?s:(0,t._)`${P(s)} ${v} ${P(f)}`}function P(v){return v instanceof t.Name?v:(0,t._)`(${v})`}})(W);var Q={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=W,r=Et;function n(w){const R={};for(const k of w)R[k]=!0;return R}e.toHash=n;function a(w,R){return typeof R=="boolean"?R:Object.keys(R).length===0?!0:(o(w,R),!c(R,w.self.RULES.all))}e.alwaysValidSchema=a;function o(w,R=w.schema){const{opts:k,self:z}=w;if(!k.strictSchema||typeof R=="boolean")return;const q=z.RULES.keywords;for(const X in R)q[X]||M(w,`unknown keyword: "${X}"`)}e.checkUnknownRules=o;function c(w,R){if(typeof w=="boolean")return!w;for(const k in w)if(R[k])return!0;return!1}e.schemaHasRules=c;function d(w,R){if(typeof w=="boolean")return!w;for(const k in w)if(k!=="$ref"&&R.all[k])return!0;return!1}e.schemaHasRulesButRef=d;function l({topSchemaRef:w,schemaPath:R},k,z,q){if(!q){if(typeof k=="number"||typeof k=="boolean")return k;if(typeof k=="string")return(0,t._)`${k}`}return(0,t._)`${w}${R}${(0,t.getProperty)(z)}`}e.schemaRefOrVal=l;function u(w){return T(decodeURIComponent(w))}e.unescapeFragment=u;function p(w){return encodeURIComponent(g(w))}e.escapeFragment=p;function g(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=g;function T(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=T;function A(w,R){if(Array.isArray(w))for(const k of w)R(k);else R(w)}e.eachItem=A;function E({mergeNames:w,mergeToName:R,mergeValues:k,resultToName:z}){return(q,X,H,ue)=>{const re=H===void 0?X:H instanceof t.Name?(X instanceof t.Name?w(q,X,H):R(q,X,H),H):X instanceof t.Name?(R(q,H,X),X):k(X,H);return ue===t.Name&&!(re instanceof t.Name)?z(q,re):re}}e.mergeEvaluated={props:E({mergeNames:(w,R,k)=>w.if((0,t._)`${k} !== true && ${R} !== undefined`,()=>{w.if((0,t._)`${R} === true`,()=>w.assign(k,!0),()=>w.assign(k,(0,t._)`${k} || {}`).code((0,t._)`Object.assign(${k}, ${R})`))}),mergeToName:(w,R,k)=>w.if((0,t._)`${k} !== true`,()=>{R===!0?w.assign(k,!0):(w.assign(k,(0,t._)`${k} || {}`),_(w,k,R))}),mergeValues:(w,R)=>w===!0?!0:{...w,...R},resultToName:S}),items:E({mergeNames:(w,R,k)=>w.if((0,t._)`${k} !== true && ${R} !== undefined`,()=>w.assign(k,(0,t._)`${R} === true ? true : ${k} > ${R} ? ${k} : ${R}`)),mergeToName:(w,R,k)=>w.if((0,t._)`${k} !== true`,()=>w.assign(k,R===!0?!0:(0,t._)`${k} > ${R} ? ${k} : ${R}`)),mergeValues:(w,R)=>w===!0?!0:Math.max(w,R),resultToName:(w,R)=>w.var("items",R)})};function S(w,R){if(R===!0)return w.var("props",!0);const k=w.var("props",(0,t._)`{}`);return R!==void 0&&_(w,k,R),k}e.evaluatedPropsToName=S;function _(w,R,k){Object.keys(k).forEach(z=>w.assign((0,t._)`${R}${(0,t.getProperty)(z)}`,!0))}e.setEvaluated=_;const m={};function $(w,R){return w.scopeValue("func",{ref:R,code:m[R.code]||(m[R.code]=new r._Code(R.code))})}e.useFunc=$;var j;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(j=e.Type||(e.Type={}));function I(w,R,k){if(w instanceof t.Name){const z=R===j.Num;return k?z?(0,t._)`"[" + ${w} + "]"`:(0,t._)`"['" + ${w} + "']"`:z?(0,t._)`"/" + ${w}`:(0,t._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return k?(0,t.getProperty)(w).toString():"/"+g(w)}e.getErrorPath=I;function M(w,R,k=w.opts.strictSchema){if(k){if(R=`strict mode: ${R}`,k===!0)throw new Error(R);w.self.logger.warn(R)}}e.checkStrictMode=M})(Q);var we={};Object.defineProperty(we,"__esModule",{value:!0});const $e=W,Ks={data:new $e.Name("data"),valCxt:new $e.Name("valCxt"),instancePath:new $e.Name("instancePath"),parentData:new $e.Name("parentData"),parentDataProperty:new $e.Name("parentDataProperty"),rootData:new $e.Name("rootData"),dynamicAnchors:new $e.Name("dynamicAnchors"),vErrors:new $e.Name("vErrors"),errors:new $e.Name("errors"),this:new $e.Name("this"),self:new $e.Name("self"),scope:new $e.Name("scope"),json:new $e.Name("json"),jsonPos:new $e.Name("jsonPos"),jsonLen:new $e.Name("jsonLen"),jsonPart:new $e.Name("jsonPart")};we.default=Ks;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=W,r=Q,n=we;e.keywordError={message:({keyword:_})=>(0,t.str)`must pass "${_}" keyword validation`},e.keyword$DataError={message:({keyword:_,schemaType:m})=>m?(0,t.str)`"${_}" keyword must be ${m} ($data)`:(0,t.str)`"${_}" keyword is invalid ($data)`};function a(_,m=e.keywordError,$,j){const{it:I}=_,{gen:M,compositeRule:w,allErrors:R}=I,k=g(_,m,$);j??(w||R)?l(M,k):u(I,(0,t._)`[${k}]`)}e.reportError=a;function o(_,m=e.keywordError,$){const{it:j}=_,{gen:I,compositeRule:M,allErrors:w}=j,R=g(_,m,$);l(I,R),M||w||u(j,n.default.vErrors)}e.reportExtraError=o;function c(_,m){_.assign(n.default.errors,m),_.if((0,t._)`${n.default.vErrors} !== null`,()=>_.if(m,()=>_.assign((0,t._)`${n.default.vErrors}.length`,m),()=>_.assign(n.default.vErrors,null)))}e.resetErrorsCount=c;function d({gen:_,keyword:m,schemaValue:$,data:j,errsCount:I,it:M}){if(I===void 0)throw new Error("ajv implementation error");const w=_.name("err");_.forRange("i",I,n.default.errors,R=>{_.const(w,(0,t._)`${n.default.vErrors}[${R}]`),_.if((0,t._)`${w}.instancePath === undefined`,()=>_.assign((0,t._)`${w}.instancePath`,(0,t.strConcat)(n.default.instancePath,M.errorPath))),_.assign((0,t._)`${w}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${m}`),M.opts.verbose&&(_.assign((0,t._)`${w}.schema`,$),_.assign((0,t._)`${w}.data`,j))})}e.extendErrors=d;function l(_,m){const $=_.const("err",m);_.if((0,t._)`${n.default.vErrors} === null`,()=>_.assign(n.default.vErrors,(0,t._)`[${$}]`),(0,t._)`${n.default.vErrors}.push(${$})`),_.code((0,t._)`${n.default.errors}++`)}function u(_,m){const{gen:$,validateName:j,schemaEnv:I}=_;I.$async?$.throw((0,t._)`new ${_.ValidationError}(${m})`):($.assign((0,t._)`${j}.errors`,m),$.return(!1))}const p={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function g(_,m,$){const{createErrors:j}=_.it;return j===!1?(0,t._)`{}`:T(_,m,$)}function T(_,m,$={}){const{gen:j,it:I}=_,M=[A(I,$),E(_,$)];return S(_,m,M),j.object(...M)}function A({errorPath:_},{instancePath:m}){const $=m?(0,t.str)`${_}${(0,r.getErrorPath)(m,r.Type.Str)}`:_;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,$)]}function E({keyword:_,it:{errSchemaPath:m}},{schemaPath:$,parentSchema:j}){let I=j?m:(0,t.str)`${m}/${_}`;return $&&(I=(0,t.str)`${I}${(0,r.getErrorPath)($,r.Type.Str)}`),[p.schemaPath,I]}function S(_,{params:m,message:$},j){const{keyword:I,data:M,schemaValue:w,it:R}=_,{opts:k,propertyName:z,topSchemaRef:q,schemaPath:X}=R;j.push([p.keyword,I],[p.params,typeof m=="function"?m(_):m||(0,t._)`{}`]),k.messages&&j.push([p.message,typeof $=="function"?$(_):$]),k.verbose&&j.push([p.schema,w],[p.parentSchema,(0,t._)`${q}${X}`],[n.default.data,M]),z&&j.push([p.propertyName,z])}})(St);Object.defineProperty(wt,"__esModule",{value:!0});wt.boolOrEmptySchema=wt.topBoolOrEmptySchema=void 0;const Gs=St,Hs=W,Bs=we,Js={message:"boolean schema is false"};function Ws(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Da(e,!1):typeof r=="object"&&r.$async===!0?t.return(Bs.default.data):(t.assign((0,Hs._)`${n}.errors`,null),t.return(!0))}wt.topBoolOrEmptySchema=Ws;function Ys(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Da(e)):r.var(t,!0)}wt.boolOrEmptySchema=Ys;function Da(e,t){const{gen:r,data:n}=e,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Gs.reportError)(a,Js,void 0,t)}var Xt={},ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.getRules=ct.isJSONType=void 0;const Xs=["string","number","integer","boolean","null","object","array"],Zs=new Set(Xs);function Qs(e){return typeof e=="string"&&Zs.has(e)}ct.isJSONType=Qs;function xs(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ct.getRules=xs;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.shouldUseRule=Le.shouldUseGroup=Le.schemaHasRulesForType=void 0;function eo({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Ma(e,n)}Le.schemaHasRulesForType=eo;function Ma(e,t){return t.rules.some(r=>Va(e,r))}Le.shouldUseGroup=Ma;function Va(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}Le.shouldUseRule=Va;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ct,r=Le,n=St,a=W,o=Q;var c;(function(j){j[j.Correct=0]="Correct",j[j.Wrong=1]="Wrong"})(c=e.DataType||(e.DataType={}));function d(j){const I=l(j.type);if(I.includes("null")){if(j.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!I.length&&j.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');j.nullable===!0&&I.push("null")}return I}e.getSchemaTypes=d;function l(j){const I=Array.isArray(j)?j:j?[j]:[];if(I.every(t.isJSONType))return I;throw new Error("type must be JSONType or JSONType[]: "+I.join(","))}e.getJSONTypes=l;function u(j,I){const{gen:M,data:w,opts:R}=j,k=g(I,R.coerceTypes),z=I.length>0&&!(k.length===0&&I.length===1&&(0,r.schemaHasRulesForType)(j,I[0]));if(z){const q=S(I,w,R.strictNumbers,c.Wrong);M.if(q,()=>{k.length?T(j,I,k):m(j)})}return z}e.coerceAndCheckDataType=u;const p=new Set(["string","number","integer","boolean","null"]);function g(j,I){return I?j.filter(M=>p.has(M)||I==="array"&&M==="array"):[]}function T(j,I,M){const{gen:w,data:R,opts:k}=j,z=w.let("dataType",(0,a._)`typeof ${R}`),q=w.let("coerced",(0,a._)`undefined`);k.coerceTypes==="array"&&w.if((0,a._)`${z} == 'object' && Array.isArray(${R}) && ${R}.length == 1`,()=>w.assign(R,(0,a._)`${R}[0]`).assign(z,(0,a._)`typeof ${R}`).if(S(I,R,k.strictNumbers),()=>w.assign(q,R))),w.if((0,a._)`${q} !== undefined`);for(const H of M)(p.has(H)||H==="array"&&k.coerceTypes==="array")&&X(H);w.else(),m(j),w.endIf(),w.if((0,a._)`${q} !== undefined`,()=>{w.assign(R,q),A(j,q)});function X(H){switch(H){case"string":w.elseIf((0,a._)`${z} == "number" || ${z} == "boolean"`).assign(q,(0,a._)`"" + ${R}`).elseIf((0,a._)`${R} === null`).assign(q,(0,a._)`""`);return;case"number":w.elseIf((0,a._)`${z} == "boolean" || ${R} === null
              || (${z} == "string" && ${R} && ${R} == +${R})`).assign(q,(0,a._)`+${R}`);return;case"integer":w.elseIf((0,a._)`${z} === "boolean" || ${R} === null
              || (${z} === "string" && ${R} && ${R} == +${R} && !(${R} % 1))`).assign(q,(0,a._)`+${R}`);return;case"boolean":w.elseIf((0,a._)`${R} === "false" || ${R} === 0 || ${R} === null`).assign(q,!1).elseIf((0,a._)`${R} === "true" || ${R} === 1`).assign(q,!0);return;case"null":w.elseIf((0,a._)`${R} === "" || ${R} === 0 || ${R} === false`),w.assign(q,null);return;case"array":w.elseIf((0,a._)`${z} === "string" || ${z} === "number"
              || ${z} === "boolean" || ${R} === null`).assign(q,(0,a._)`[${R}]`)}}}function A({gen:j,parentData:I,parentDataProperty:M},w){j.if((0,a._)`${I} !== undefined`,()=>j.assign((0,a._)`${I}[${M}]`,w))}function E(j,I,M,w=c.Correct){const R=w===c.Correct?a.operators.EQ:a.operators.NEQ;let k;switch(j){case"null":return(0,a._)`${I} ${R} null`;case"array":k=(0,a._)`Array.isArray(${I})`;break;case"object":k=(0,a._)`${I} && typeof ${I} == "object" && !Array.isArray(${I})`;break;case"integer":k=z((0,a._)`!(${I} % 1) && !isNaN(${I})`);break;case"number":k=z();break;default:return(0,a._)`typeof ${I} ${R} ${j}`}return w===c.Correct?k:(0,a.not)(k);function z(q=a.nil){return(0,a.and)((0,a._)`typeof ${I} == "number"`,q,M?(0,a._)`isFinite(${I})`:a.nil)}}e.checkDataType=E;function S(j,I,M,w){if(j.length===1)return E(j[0],I,M,w);let R;const k=(0,o.toHash)(j);if(k.array&&k.object){const z=(0,a._)`typeof ${I} != "object"`;R=k.null?z:(0,a._)`!${I} || ${z}`,delete k.null,delete k.array,delete k.object}else R=a.nil;k.number&&delete k.integer;for(const z in k)R=(0,a.and)(R,E(z,I,M,w));return R}e.checkDataTypes=S;const _={message:({schema:j})=>`must be ${j}`,params:({schema:j,schemaValue:I})=>typeof j=="string"?(0,a._)`{type: ${j}}`:(0,a._)`{type: ${I}}`};function m(j){const I=$(j);(0,n.reportError)(I,_)}e.reportTypeError=m;function $(j){const{gen:I,data:M,schema:w}=j,R=(0,o.schemaRefOrVal)(j,w,"type");return{gen:I,keyword:"type",data:M,schema:w.type,schemaCode:R,schemaValue:R,parentSchema:w,params:{},it:j}}})(Xt);var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.assignDefaults=void 0;const $t=W,to=Q;function ro(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const a in r)na(e,a,r[a].default);else t==="array"&&Array.isArray(n)&&n.forEach((a,o)=>na(e,o,a.default))}wr.assignDefaults=ro;function na(e,t,r){const{gen:n,compositeRule:a,data:o,opts:c}=e;if(r===void 0)return;const d=(0,$t._)`${o}${(0,$t.getProperty)(t)}`;if(a){(0,to.checkStrictMode)(e,`default is ignored for: ${d}`);return}let l=(0,$t._)`${d} === undefined`;c.useDefaults==="empty"&&(l=(0,$t._)`${l} || ${d} === null || ${d} === ""`),n.if(l,(0,$t._)`${d} = ${(0,$t.stringify)(r)}`)}var qe={},Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.validateUnion=Z.validateArray=Z.usePattern=Z.callValidateCode=Z.schemaProperties=Z.allSchemaProperties=Z.noPropertyInData=Z.propertyInData=Z.isOwnProperty=Z.hasPropFunc=Z.reportMissingProp=Z.checkMissingProp=Z.checkReportMissingProp=void 0;const se=W,Xr=Q,Je=we,no=Q;function ao(e,t){const{gen:r,data:n,it:a}=e;r.if(Qr(r,n,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,se._)`${t}`},!0),e.error()})}Z.checkReportMissingProp=ao;function so({gen:e,data:t,it:{opts:r}},n,a){return(0,se.or)(...n.map(o=>(0,se.and)(Qr(e,t,o,r.ownProperties),(0,se._)`${a} = ${o}`)))}Z.checkMissingProp=so;function oo(e,t){e.setParams({missingProperty:t},!0),e.error()}Z.reportMissingProp=oo;function za(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,se._)`Object.prototype.hasOwnProperty`})}Z.hasPropFunc=za;function Zr(e,t,r){return(0,se._)`${za(e)}.call(${t}, ${r})`}Z.isOwnProperty=Zr;function io(e,t,r,n){const a=(0,se._)`${t}${(0,se.getProperty)(r)} !== undefined`;return n?(0,se._)`${a} && ${Zr(e,t,r)}`:a}Z.propertyInData=io;function Qr(e,t,r,n){const a=(0,se._)`${t}${(0,se.getProperty)(r)} === undefined`;return n?(0,se.or)(a,(0,se.not)(Zr(e,t,r))):a}Z.noPropertyInData=Qr;function Fa(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}Z.allSchemaProperties=Fa;function co(e,t){return Fa(t).filter(r=>!(0,Xr.alwaysValidSchema)(e,t[r]))}Z.schemaProperties=co;function uo({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:o},it:c},d,l,u){const p=u?(0,se._)`${e}, ${t}, ${n}${a}`:t,g=[[Je.default.instancePath,(0,se.strConcat)(Je.default.instancePath,o)],[Je.default.parentData,c.parentData],[Je.default.parentDataProperty,c.parentDataProperty],[Je.default.rootData,Je.default.rootData]];c.opts.dynamicRef&&g.push([Je.default.dynamicAnchors,Je.default.dynamicAnchors]);const T=(0,se._)`${p}, ${r.object(...g)}`;return l!==se.nil?(0,se._)`${d}.call(${l}, ${T})`:(0,se._)`${d}(${T})`}Z.callValidateCode=uo;const lo=(0,se._)`new RegExp`;function fo({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:a}=t.code,o=a(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,se._)`${a.code==="new RegExp"?lo:(0,no.useFunc)(e,a)}(${r}, ${n})`})}Z.usePattern=fo;function po(e){const{gen:t,data:r,keyword:n,it:a}=e,o=t.name("valid");if(a.allErrors){const d=t.let("valid",!0);return c(()=>t.assign(d,!1)),d}return t.var(o,!0),c(()=>t.break()),o;function c(d){const l=t.const("len",(0,se._)`${r}.length`);t.forRange("i",0,l,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:Xr.Type.Num},o),t.if((0,se.not)(o),d)})}}Z.validateArray=po;function mo(e){const{gen:t,schema:r,keyword:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,Xr.alwaysValidSchema)(a,l))&&!a.opts.unevaluated)return;const c=t.let("valid",!1),d=t.name("_valid");t.block(()=>r.forEach((l,u)=>{const p=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},d);t.assign(c,(0,se._)`${c} || ${d}`),e.mergeValidEvaluated(p,d)||t.if((0,se.not)(c))})),e.result(c,()=>e.reset(),()=>e.error(!0))}Z.validateUnion=mo;Object.defineProperty(qe,"__esModule",{value:!0});qe.validateKeywordUsage=qe.validSchemaType=qe.funcKeywordCode=qe.macroKeywordCode=void 0;const ye=W,at=we,ho=Z,$o=St;function yo(e,t){const{gen:r,keyword:n,schema:a,parentSchema:o,it:c}=e,d=t.macro.call(c.self,a,o,c),l=qa(r,n,d);c.opts.validateSchema!==!1&&c.self.validateSchema(d,!0);const u=r.name("valid");e.subschema({schema:d,schemaPath:ye.nil,errSchemaPath:`${c.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}qe.macroKeywordCode=yo;function go(e,t){var r;const{gen:n,keyword:a,schema:o,parentSchema:c,$data:d,it:l}=e;_o(l,t);const u=!d&&t.compile?t.compile.call(l.self,o,c,l):t.validate,p=qa(n,a,u),g=n.let("valid");e.block$data(g,T),e.ok((r=t.valid)!==null&&r!==void 0?r:g);function T(){if(t.errors===!1)S(),t.modifying&&aa(e),_(()=>e.error());else{const m=t.async?A():E();t.modifying&&aa(e),_(()=>vo(e,m))}}function A(){const m=n.let("ruleErrs",null);return n.try(()=>S((0,ye._)`await `),$=>n.assign(g,!1).if((0,ye._)`${$} instanceof ${l.ValidationError}`,()=>n.assign(m,(0,ye._)`${$}.errors`),()=>n.throw($))),m}function E(){const m=(0,ye._)`${p}.errors`;return n.assign(m,null),S(ye.nil),m}function S(m=t.async?(0,ye._)`await `:ye.nil){const $=l.opts.passContext?at.default.this:at.default.self,j=!("compile"in t&&!d||t.schema===!1);n.assign(g,(0,ye._)`${m}${(0,ho.callValidateCode)(e,p,$,j)}`,t.modifying)}function _(m){var $;n.if((0,ye.not)(($=t.valid)!==null&&$!==void 0?$:g),m)}}qe.funcKeywordCode=go;function aa(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,ye._)`${n.parentData}[${n.parentDataProperty}]`))}function vo(e,t){const{gen:r}=e;r.if((0,ye._)`Array.isArray(${t})`,()=>{r.assign(at.default.vErrors,(0,ye._)`${at.default.vErrors} === null ? ${t} : ${at.default.vErrors}.concat(${t})`).assign(at.default.errors,(0,ye._)`${at.default.vErrors}.length`),(0,$o.extendErrors)(e)},()=>e.error())}function _o({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function qa(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ye.stringify)(r)})}function bo(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}qe.validSchemaType=bo;function wo({schema:e,opts:t,self:r,errSchemaPath:n},a,o){if(Array.isArray(a.keyword)?!a.keyword.includes(o):a.keyword!==o)throw new Error("ajv implementation error");const c=a.dependencies;if(c!=null&&c.some(d=>!Object.prototype.hasOwnProperty.call(e,d)))throw new Error(`parent schema must have dependencies of ${o}: ${c.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[o])){const l=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}qe.validateKeywordUsage=wo;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.extendSubschemaMode=Ze.extendSubschemaData=Ze.getSubschema=void 0;const Fe=W,Ua=Q;function Eo(e,{keyword:t,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:o,topSchemaRef:c}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const d=e.schema[t];return r===void 0?{schema:d,schemaPath:(0,Fe._)`${e.schemaPath}${(0,Fe.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:d[r],schemaPath:(0,Fe._)`${e.schemaPath}${(0,Fe.getProperty)(t)}${(0,Fe.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Ua.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||o===void 0||c===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:c,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Ze.getSubschema=Eo;function Po(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:o,propertyName:c}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:d}=t;if(r!==void 0){const{errorPath:u,dataPathArr:p,opts:g}=t,T=d.let("data",(0,Fe._)`${t.data}${(0,Fe.getProperty)(r)}`,!0);l(T),e.errorPath=(0,Fe.str)`${u}${(0,Ua.getErrorPath)(r,n,g.jsPropertySyntax)}`,e.parentDataProperty=(0,Fe._)`${r}`,e.dataPathArr=[...p,e.parentDataProperty]}if(a!==void 0){const u=a instanceof Fe.Name?a:d.let("data",a,!0);l(u),c!==void 0&&(e.propertyName=c)}o&&(e.dataTypes=o);function l(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}Ze.extendSubschemaData=Po;function So(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:o}){n!==void 0&&(e.compositeRule=n),a!==void 0&&(e.createErrors=a),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}Ze.extendSubschemaMode=So;var he={},La=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[a]))return!1;for(a=n;a--!==0;){var c=o[a];if(!e(t[c],r[c]))return!1}return!0}return t!==t&&r!==r},Ka={exports:{}},Xe=Ka.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};ur(t,n,a,e,"",e)};Xe.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Xe.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Xe.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Xe.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ur(e,t,r,n,a,o,c,d,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,o,c,d,l,u);for(var p in n){var g=n[p];if(Array.isArray(g)){if(p in Xe.arrayKeywords)for(var T=0;T<g.length;T++)ur(e,t,r,g[T],a+"/"+p+"/"+T,o,a,p,n,T)}else if(p in Xe.propsKeywords){if(g&&typeof g=="object")for(var A in g)ur(e,t,r,g[A],a+"/"+p+"/"+jo(A),o,a,p,n,A)}else(p in Xe.keywords||e.allKeys&&!(p in Xe.skipKeywords))&&ur(e,t,r,g,a+"/"+p,o,a,p,n)}r(n,a,o,c,d,l,u)}}function jo(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Oo=Ka.exports;Object.defineProperty(he,"__esModule",{value:!0});he.getSchemaRefs=he.resolveUrl=he.normalizeId=he._getFullPath=he.getFullPath=he.inlineRef=void 0;const No=Q,Co=La,Ro=Oo,To=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Ao(e,t=!0){return typeof e=="boolean"?!0:t===!0?!qr(e):t?Ga(e)<=t:!1}he.inlineRef=Ao;const Io=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function qr(e){for(const t in e){if(Io.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(qr)||typeof r=="object"&&qr(r))return!0}return!1}function Ga(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!To.has(r)&&(typeof e[r]=="object"&&(0,No.eachItem)(e[r],n=>t+=Ga(n)),t===1/0))return 1/0}return t}function Ha(e,t="",r){r!==!1&&(t=_t(t));const n=e.parse(t);return Ba(e,n)}he.getFullPath=Ha;function Ba(e,t){return e.serialize(t).split("#")[0]+"#"}he._getFullPath=Ba;const ko=/#\/?$/;function _t(e){return e?e.replace(ko,""):""}he.normalizeId=_t;function Do(e,t,r){return r=_t(r),e.resolve(t,r)}he.resolveUrl=Do;const Mo=/^[a-z_][-a-z0-9._]*$/i;function Vo(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=_t(e[r]||t),o={"":a},c=Ha(n,a,!1),d={},l=new Set;return Ro(e,{allKeys:!0},(g,T,A,E)=>{if(E===void 0)return;const S=c+T;let _=o[E];typeof g[r]=="string"&&(_=m.call(this,g[r])),$.call(this,g.$anchor),$.call(this,g.$dynamicAnchor),o[T]=_;function m(j){const I=this.opts.uriResolver.resolve;if(j=_t(_?I(_,j):j),l.has(j))throw p(j);l.add(j);let M=this.refs[j];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?u(g,M.schema,j):j!==_t(S)&&(j[0]==="#"?(u(g,d[j],j),d[j]=g):this.refs[j]=S),j}function $(j){if(typeof j=="string"){if(!Mo.test(j))throw new Error(`invalid anchor "${j}"`);m.call(this,`#${j}`)}}}),d;function u(g,T,A){if(T!==void 0&&!Co(g,T))throw p(A)}function p(g){return new Error(`reference "${g}" resolves to more than one schema`)}}he.getSchemaRefs=Vo;Object.defineProperty(Pe,"__esModule",{value:!0});Pe.getData=Pe.KeywordCxt=Pe.validateFunctionCode=void 0;const Ja=wt,sa=Xt,xr=Le,hr=Xt,zo=wr,Ht=qe,Ar=Ze,L=W,J=we,Fo=he,Ke=Q,Ut=St;function qo(e){if(Xa(e)&&(Za(e),Ya(e))){Ko(e);return}Wa(e,()=>(0,Ja.topBoolOrEmptySchema)(e))}Pe.validateFunctionCode=qo;function Wa({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},o){a.code.es5?e.func(t,(0,L._)`${J.default.data}, ${J.default.valCxt}`,n.$async,()=>{e.code((0,L._)`"use strict"; ${oa(r,a)}`),Lo(e,a),e.code(o)}):e.func(t,(0,L._)`${J.default.data}, ${Uo(a)}`,n.$async,()=>e.code(oa(r,a)).code(o))}function Uo(e){return(0,L._)`{${J.default.instancePath}="", ${J.default.parentData}, ${J.default.parentDataProperty}, ${J.default.rootData}=${J.default.data}${e.dynamicRef?(0,L._)`, ${J.default.dynamicAnchors}={}`:L.nil}}={}`}function Lo(e,t){e.if(J.default.valCxt,()=>{e.var(J.default.instancePath,(0,L._)`${J.default.valCxt}.${J.default.instancePath}`),e.var(J.default.parentData,(0,L._)`${J.default.valCxt}.${J.default.parentData}`),e.var(J.default.parentDataProperty,(0,L._)`${J.default.valCxt}.${J.default.parentDataProperty}`),e.var(J.default.rootData,(0,L._)`${J.default.valCxt}.${J.default.rootData}`),t.dynamicRef&&e.var(J.default.dynamicAnchors,(0,L._)`${J.default.valCxt}.${J.default.dynamicAnchors}`)},()=>{e.var(J.default.instancePath,(0,L._)`""`),e.var(J.default.parentData,(0,L._)`undefined`),e.var(J.default.parentDataProperty,(0,L._)`undefined`),e.var(J.default.rootData,J.default.data),t.dynamicRef&&e.var(J.default.dynamicAnchors,(0,L._)`{}`)})}function Ko(e){const{schema:t,opts:r,gen:n}=e;Wa(e,()=>{r.$comment&&t.$comment&&xa(e),Wo(e),n.let(J.default.vErrors,null),n.let(J.default.errors,0),r.unevaluated&&Go(e),Qa(e),Zo(e)})}function Go(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,L._)`${r}.evaluated`),t.if((0,L._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,L._)`${e.evaluated}.props`,(0,L._)`undefined`)),t.if((0,L._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,L._)`${e.evaluated}.items`,(0,L._)`undefined`))}function oa(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,L._)`/*# sourceURL=${r} */`:L.nil}function Ho(e,t){if(Xa(e)&&(Za(e),Ya(e))){Bo(e,t);return}(0,Ja.boolOrEmptySchema)(e,t)}function Ya({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Xa(e){return typeof e.schema!="boolean"}function Bo(e,t){const{schema:r,gen:n,opts:a}=e;a.$comment&&r.$comment&&xa(e),Yo(e),Xo(e);const o=n.const("_errs",J.default.errors);Qa(e,o),n.var(t,(0,L._)`${o} === ${J.default.errors}`)}function Za(e){(0,Ke.checkUnknownRules)(e),Jo(e)}function Qa(e,t){if(e.opts.jtd)return ia(e,[],!1,t);const r=(0,sa.getSchemaTypes)(e.schema),n=(0,sa.coerceAndCheckDataType)(e,r);ia(e,r,!n,t)}function Jo(e){const{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,Ke.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Wo(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ke.checkStrictMode)(e,"default is ignored in the schema root")}function Yo(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,Fo.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Xo(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function xa({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){const o=r.$comment;if(a.$comment===!0)e.code((0,L._)`${J.default.self}.logger.log(${o})`);else if(typeof a.$comment=="function"){const c=(0,L.str)`${n}/$comment`,d=e.scopeValue("root",{ref:t.root});e.code((0,L._)`${J.default.self}.opts.$comment(${o}, ${c}, ${d}.schema)`)}}function Zo(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:o}=e;r.$async?t.if((0,L._)`${J.default.errors} === 0`,()=>t.return(J.default.data),()=>t.throw((0,L._)`new ${a}(${J.default.vErrors})`)):(t.assign((0,L._)`${n}.errors`,J.default.vErrors),o.unevaluated&&Qo(e),t.return((0,L._)`${J.default.errors} === 0`))}function Qo({gen:e,evaluated:t,props:r,items:n}){r instanceof L.Name&&e.assign((0,L._)`${t}.props`,r),n instanceof L.Name&&e.assign((0,L._)`${t}.items`,n)}function ia(e,t,r,n){const{gen:a,schema:o,data:c,allErrors:d,opts:l,self:u}=e,{RULES:p}=u;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,Ke.schemaHasRulesButRef)(o,p))){a.block(()=>rs(e,"$ref",p.all.$ref.definition));return}l.jtd||xo(e,t),a.block(()=>{for(const T of p.rules)g(T);g(p.post)});function g(T){(0,xr.shouldUseGroup)(o,T)&&(T.type?(a.if((0,hr.checkDataType)(T.type,c,l.strictNumbers)),ca(e,T),t.length===1&&t[0]===T.type&&r&&(a.else(),(0,hr.reportTypeError)(e)),a.endIf()):ca(e,T),d||a.if((0,L._)`${J.default.errors} === ${n||0}`))}}function ca(e,t){const{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,zo.assignDefaults)(e,t.type),r.block(()=>{for(const o of t.rules)(0,xr.shouldUseRule)(n,o)&&rs(e,o.keyword,o.definition,t.type)})}function xo(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(ei(e,t),e.opts.allowUnionTypes||ti(e,t),ri(e,e.dataTypes))}function ei(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{es(e.dataTypes,r)||en(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),ai(e,t)}}function ti(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&en(e,"use allowUnionTypes to allow union type keyword")}function ri(e,t){const r=e.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,xr.shouldUseRule)(e.schema,a)){const{type:o}=a.definition;o.length&&!o.some(c=>ni(t,c))&&en(e,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function ni(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function es(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function ai(e,t){const r=[];for(const n of e.dataTypes)es(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function en(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Ke.checkStrictMode)(e,t,e.opts.strictTypes)}class ts{constructor(t,r,n){if((0,Ht.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ke.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",ns(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Ht.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",J.default.errors))}result(t,r,n){this.failResult((0,L.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,L.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,L._)`${r} !== undefined && (${(0,L.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Ut.reportExtraError:Ut.reportError)(this,this.def.error,r)}$dataError(){(0,Ut.reportError)(this,this.def.$dataError||Ut.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ut.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=L.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=L.nil,r=L.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:o,def:c}=this;n.if((0,L.or)((0,L._)`${a} === undefined`,r)),t!==L.nil&&n.assign(t,!0),(o.length||c.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==L.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:a,it:o}=this;return(0,L.or)(c(),d());function c(){if(n.length){if(!(r instanceof L.Name))throw new Error("ajv implementation error");const l=Array.isArray(n)?n:[n];return(0,L._)`${(0,hr.checkDataTypes)(l,r,o.opts.strictNumbers,hr.DataType.Wrong)}`}return L.nil}function d(){if(a.validateSchema){const l=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,L._)`!${l}(${r})`}return L.nil}}subschema(t,r){const n=(0,Ar.getSubschema)(this.it,t);(0,Ar.extendSubschemaData)(n,this.it,t),(0,Ar.extendSubschemaMode)(n,t);const a={...this.it,...n,items:void 0,props:void 0};return Ho(a,r),a}mergeEvaluated(t,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=Ke.mergeEvaluated.props(a,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=Ke.mergeEvaluated.items(a,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(t,L.Name)),!0}}Pe.KeywordCxt=ts;function rs(e,t,r,n){const a=new ts(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,Ht.funcKeywordCode)(a,r):"macro"in r?(0,Ht.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,Ht.funcKeywordCode)(a,r)}const si=/^\/(?:[^~]|~0|~1)*$/,oi=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ns(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,o;if(e==="")return J.default.rootData;if(e[0]==="/"){if(!si.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,o=J.default.rootData}else{const u=oi.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const p=+u[1];if(a=u[2],a==="#"){if(p>=t)throw new Error(l("property/index",p));return n[t-p]}if(p>t)throw new Error(l("data",p));if(o=r[t-p],!a)return o}let c=o;const d=a.split("/");for(const u of d)u&&(o=(0,L._)`${o}${(0,L.getProperty)((0,Ke.unescapeJsonPointer)(u))}`,c=(0,L._)`${c} && ${o}`);return c;function l(u,p){return`Cannot access ${u} ${p} levels up, current level is ${t}`}}Pe.getData=ns;var jt={};Object.defineProperty(jt,"__esModule",{value:!0});class ii extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}jt.default=ii;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});const Ir=he;class ci extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Ir.resolveUrl)(t,r,n),this.missingSchema=(0,Ir.normalizeId)((0,Ir.getFullPath)(t,this.missingRef))}}Ot.default=ci;var ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.resolveSchema=ge.getCompilingSchema=ge.resolveRef=ge.compileSchema=ge.SchemaEnv=void 0;const Ne=W,ui=jt,nt=we,Re=he,ua=Q,li=Pe;class Er{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Re.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}ge.SchemaEnv=Er;function tn(e){const t=as.call(this,e);if(t)return t;const r=(0,Re.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:o}=this.opts,c=new Ne.CodeGen(this.scope,{es5:n,lines:a,ownProperties:o});let d;e.$async&&(d=c.scopeValue("Error",{ref:ui.default,code:(0,Ne._)`require("ajv/dist/runtime/validation_error").default`}));const l=c.scopeName("validate");e.validateName=l;const u={gen:c,allErrors:this.opts.allErrors,data:nt.default.data,parentData:nt.default.parentData,parentDataProperty:nt.default.parentDataProperty,dataNames:[nt.default.data],dataPathArr:[Ne.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:c.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ne.stringify)(e.schema)}:{ref:e.schema}),validateName:l,ValidationError:d,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ne.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ne._)`""`,opts:this.opts,self:this};let p;try{this._compilations.add(e),(0,li.validateFunctionCode)(u),c.optimize(this.opts.code.optimize);const g=c.toString();p=`${c.scopeRefs(nt.default.scope)}return ${g}`,this.opts.code.process&&(p=this.opts.code.process(p,e));const A=new Function(`${nt.default.self}`,`${nt.default.scope}`,p)(this,this.scope.get());if(this.scope.value(l,{ref:A}),A.errors=null,A.schema=e.schema,A.schemaEnv=e,e.$async&&(A.$async=!0),this.opts.code.source===!0&&(A.source={validateName:l,validateCode:g,scopeValues:c._values}),this.opts.unevaluated){const{props:E,items:S}=u;A.evaluated={props:E instanceof Ne.Name?void 0:E,items:S instanceof Ne.Name?void 0:S,dynamicProps:E instanceof Ne.Name,dynamicItems:S instanceof Ne.Name},A.source&&(A.source.evaluated=(0,Ne.stringify)(A.evaluated))}return e.validate=A,e}catch(g){throw delete e.validate,delete e.validateName,p&&this.logger.error("Error compiling schema, function code:",p),g}finally{this._compilations.delete(e)}}ge.compileSchema=tn;function di(e,t,r){var n;r=(0,Re.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let o=mi.call(this,e,r);if(o===void 0){const c=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:d}=this.opts;c&&(o=new Er({schema:c,schemaId:d,root:e,baseId:t}))}if(o!==void 0)return e.refs[r]=fi.call(this,o)}ge.resolveRef=di;function fi(e){return(0,Re.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:tn.call(this,e)}function as(e){for(const t of this._compilations)if(pi(t,e))return t}ge.getCompilingSchema=as;function pi(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function mi(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Pr.call(this,e,t)}function Pr(e,t){const r=this.opts.uriResolver.parse(t),n=(0,Re._getFullPath)(this.opts.uriResolver,r);let a=(0,Re.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return kr.call(this,r,e);const o=(0,Re.normalizeId)(n),c=this.refs[o]||this.schemas[o];if(typeof c=="string"){const d=Pr.call(this,e,c);return typeof(d==null?void 0:d.schema)!="object"?void 0:kr.call(this,r,d)}if(typeof(c==null?void 0:c.schema)=="object"){if(c.validate||tn.call(this,c),o===(0,Re.normalizeId)(t)){const{schema:d}=c,{schemaId:l}=this.opts,u=d[l];return u&&(a=(0,Re.resolveUrl)(this.opts.uriResolver,a,u)),new Er({schema:d,schemaId:l,root:e,baseId:a})}return kr.call(this,r,c)}}ge.resolveSchema=Pr;const hi=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function kr(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const d of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,ua.unescapeFragment)(d)];if(l===void 0)return;r=l;const u=typeof r=="object"&&r[this.opts.schemaId];!hi.has(d)&&u&&(t=(0,Re.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,ua.schemaHasRulesButRef)(r,this.RULES)){const d=(0,Re.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=Pr.call(this,n,d)}const{schemaId:c}=this.opts;if(o=o||new Er({schema:r,schemaId:c,root:n,baseId:t}),o.schema!==o.root.schema)return o}const $i="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",yi="Meta-schema for $data reference (JSON AnySchema extension proposal)",gi="object",vi=["$data"],_i={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},bi=!1,wi={$id:$i,description:yi,type:gi,required:vi,properties:_i,additionalProperties:bi};var rn={},Ur={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Ds,function(r){function n(){for(var h=arguments.length,i=Array(h),y=0;y<h;y++)i[y]=arguments[y];if(i.length>1){i[0]=i[0].slice(0,-1);for(var C=i.length-1,N=1;N<C;++N)i[N]=i[N].slice(1,-1);return i[C]=i[C].slice(1),i.join("")}else return i[0]}function a(h){return"(?:"+h+")"}function o(h){return h===void 0?"undefined":h===null?"null":Object.prototype.toString.call(h).split(" ").pop().split("]").shift().toLowerCase()}function c(h){return h.toUpperCase()}function d(h){return h!=null?h instanceof Array?h:typeof h.length!="number"||h.split||h.setInterval||h.call?[h]:Array.prototype.slice.call(h):[]}function l(h,i){var y=h;if(i)for(var C in i)y[C]=i[C];return y}function u(h){var i="[A-Za-z]",y="[0-9]",C=n(y,"[A-Fa-f]"),N=a(a("%[EFef]"+C+"%"+C+C+"%"+C+C)+"|"+a("%[89A-Fa-f]"+C+"%"+C+C)+"|"+a("%"+C+C)),K="[\\:\\/\\?\\#\\[\\]\\@]",G="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ee=n(K,G),ae=h?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",le=h?"[\\uE000-\\uF8FF]":"[]",x=n(i,y,"[\\-\\.\\_\\~]",ae);a(i+n(i,y,"[\\+\\-\\.]")+"*"),a(a(N+"|"+n(x,G,"[\\:]"))+"*");var ne=a(a("25[0-5]")+"|"+a("2[0-4]"+y)+"|"+a("1"+y+y)+"|"+a("0?[1-9]"+y)+"|0?0?"+y),de=a(ne+"\\."+ne+"\\."+ne+"\\."+ne),Y=a(C+"{1,4}"),ie=a(a(Y+"\\:"+Y)+"|"+de),pe=a(a(Y+"\\:")+"{6}"+ie),ce=a("\\:\\:"+a(Y+"\\:")+"{5}"+ie),Be=a(a(Y)+"?\\:\\:"+a(Y+"\\:")+"{4}"+ie),Me=a(a(a(Y+"\\:")+"{0,1}"+Y)+"?\\:\\:"+a(Y+"\\:")+"{3}"+ie),Ve=a(a(a(Y+"\\:")+"{0,2}"+Y)+"?\\:\\:"+a(Y+"\\:")+"{2}"+ie),ht=a(a(a(Y+"\\:")+"{0,3}"+Y)+"?\\:\\:"+Y+"\\:"+ie),tt=a(a(a(Y+"\\:")+"{0,4}"+Y)+"?\\:\\:"+ie),je=a(a(a(Y+"\\:")+"{0,5}"+Y)+"?\\:\\:"+Y),ze=a(a(a(Y+"\\:")+"{0,6}"+Y)+"?\\:\\:"),rt=a([pe,ce,Be,Me,Ve,ht,tt,je,ze].join("|")),Ue=a(a(x+"|"+N)+"+");a("[vV]"+C+"+\\."+n(x,G,"[\\:]")+"+"),a(a(N+"|"+n(x,G))+"*");var Ft=a(N+"|"+n(x,G,"[\\:\\@]"));return a(a(N+"|"+n(x,G,"[\\@]"))+"+"),a(a(Ft+"|"+n("[\\/\\?]",le))+"*"),{NOT_SCHEME:new RegExp(n("[^]",i,y,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",x,G),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",x,G),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",x,G),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",x,G),"g"),NOT_QUERY:new RegExp(n("[^\\%]",x,G,"[\\:\\@\\/\\?]",le),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",x,G,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",x,G),"g"),UNRESERVED:new RegExp(x,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",x,ee),"g"),PCT_ENCODED:new RegExp(N,"g"),IPV4ADDRESS:new RegExp("^("+de+")$"),IPV6ADDRESS:new RegExp("^\\[?("+rt+")"+a(a("\\%25|\\%(?!"+C+"{2})")+"("+Ue+")")+"?\\]?$")}}var p=u(!1),g=u(!0),T=function(){function h(i,y){var C=[],N=!0,K=!1,G=void 0;try{for(var ee=i[Symbol.iterator](),ae;!(N=(ae=ee.next()).done)&&(C.push(ae.value),!(y&&C.length===y));N=!0);}catch(le){K=!0,G=le}finally{try{!N&&ee.return&&ee.return()}finally{if(K)throw G}}return C}return function(i,y){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return h(i,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=function(h){if(Array.isArray(h)){for(var i=0,y=Array(h.length);i<h.length;i++)y[i]=h[i];return y}else return Array.from(h)},E=2147483647,S=36,_=1,m=26,$=38,j=700,I=72,M=128,w="-",R=/^xn--/,k=/[^\0-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,q={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},X=S-_,H=Math.floor,ue=String.fromCharCode;function re(h){throw new RangeError(q[h])}function ve(h,i){for(var y=[],C=h.length;C--;)y[C]=i(h[C]);return y}function Te(h,i){var y=h.split("@"),C="";y.length>1&&(C=y[0]+"@",h=y[1]),h=h.replace(z,".");var N=h.split("."),K=ve(N,i).join(".");return C+K}function He(h){for(var i=[],y=0,C=h.length;y<C;){var N=h.charCodeAt(y++);if(N>=55296&&N<=56319&&y<C){var K=h.charCodeAt(y++);(K&64512)==56320?i.push(((N&1023)<<10)+(K&1023)+65536):(i.push(N),y--)}else i.push(N)}return i}var Qe=function(i){return String.fromCodePoint.apply(String,A(i))},Ae=function(i){return i-48<10?i-22:i-65<26?i-65:i-97<26?i-97:S},F=function(i,y){return i+22+75*(i<26)-((y!=0)<<5)},b=function(i,y,C){var N=0;for(i=C?H(i/j):i>>1,i+=H(i/y);i>X*m>>1;N+=S)i=H(i/X);return H(N+(X+1)*i/(i+$))},P=function(i){var y=[],C=i.length,N=0,K=M,G=I,ee=i.lastIndexOf(w);ee<0&&(ee=0);for(var ae=0;ae<ee;++ae)i.charCodeAt(ae)>=128&&re("not-basic"),y.push(i.charCodeAt(ae));for(var le=ee>0?ee+1:0;le<C;){for(var x=N,ne=1,de=S;;de+=S){le>=C&&re("invalid-input");var Y=Ae(i.charCodeAt(le++));(Y>=S||Y>H((E-N)/ne))&&re("overflow"),N+=Y*ne;var ie=de<=G?_:de>=G+m?m:de-G;if(Y<ie)break;var pe=S-ie;ne>H(E/pe)&&re("overflow"),ne*=pe}var ce=y.length+1;G=b(N-x,ce,x==0),H(N/ce)>E-K&&re("overflow"),K+=H(N/ce),N%=ce,y.splice(N++,0,K)}return String.fromCodePoint.apply(String,y)},v=function(i){var y=[];i=He(i);var C=i.length,N=M,K=0,G=I,ee=!0,ae=!1,le=void 0;try{for(var x=i[Symbol.iterator](),ne;!(ee=(ne=x.next()).done);ee=!0){var de=ne.value;de<128&&y.push(ue(de))}}catch(qt){ae=!0,le=qt}finally{try{!ee&&x.return&&x.return()}finally{if(ae)throw le}}var Y=y.length,ie=Y;for(Y&&y.push(w);ie<C;){var pe=E,ce=!0,Be=!1,Me=void 0;try{for(var Ve=i[Symbol.iterator](),ht;!(ce=(ht=Ve.next()).done);ce=!0){var tt=ht.value;tt>=N&&tt<pe&&(pe=tt)}}catch(qt){Be=!0,Me=qt}finally{try{!ce&&Ve.return&&Ve.return()}finally{if(Be)throw Me}}var je=ie+1;pe-N>H((E-K)/je)&&re("overflow"),K+=(pe-N)*je,N=pe;var ze=!0,rt=!1,Ue=void 0;try{for(var Ft=i[Symbol.iterator](),xn;!(ze=(xn=Ft.next()).done);ze=!0){var ea=xn.value;if(ea<N&&++K>E&&re("overflow"),ea==N){for(var xt=K,er=S;;er+=S){var tr=er<=G?_:er>=G+m?m:er-G;if(xt<tr)break;var ta=xt-tr,ra=S-tr;y.push(ue(F(tr+ta%ra,0))),xt=H(ta/ra)}y.push(ue(F(xt,0))),G=b(K,je,ie==Y),K=0,++ie}}}catch(qt){rt=!0,Ue=qt}finally{try{!ze&&Ft.return&&Ft.return()}finally{if(rt)throw Ue}}++K,++N}return y.join("")},s=function(i){return Te(i,function(y){return R.test(y)?P(y.slice(4).toLowerCase()):y})},f=function(i){return Te(i,function(y){return k.test(y)?"xn--"+v(y):y})},O={version:"2.1.0",ucs2:{decode:He,encode:Qe},decode:P,encode:v,toASCII:f,toUnicode:s},V={};function D(h){var i=h.charCodeAt(0),y=void 0;return i<16?y="%0"+i.toString(16).toUpperCase():i<128?y="%"+i.toString(16).toUpperCase():i<2048?y="%"+(i>>6|192).toString(16).toUpperCase()+"%"+(i&63|128).toString(16).toUpperCase():y="%"+(i>>12|224).toString(16).toUpperCase()+"%"+(i>>6&63|128).toString(16).toUpperCase()+"%"+(i&63|128).toString(16).toUpperCase(),y}function U(h){for(var i="",y=0,C=h.length;y<C;){var N=parseInt(h.substr(y+1,2),16);if(N<128)i+=String.fromCharCode(N),y+=3;else if(N>=194&&N<224){if(C-y>=6){var K=parseInt(h.substr(y+4,2),16);i+=String.fromCharCode((N&31)<<6|K&63)}else i+=h.substr(y,6);y+=6}else if(N>=224){if(C-y>=9){var G=parseInt(h.substr(y+4,2),16),ee=parseInt(h.substr(y+7,2),16);i+=String.fromCharCode((N&15)<<12|(G&63)<<6|ee&63)}else i+=h.substr(y,9);y+=9}else i+=h.substr(y,3),y+=3}return i}function B(h,i){function y(C){var N=U(C);return N.match(i.UNRESERVED)?N:C}return h.scheme&&(h.scheme=String(h.scheme).replace(i.PCT_ENCODED,y).toLowerCase().replace(i.NOT_SCHEME,"")),h.userinfo!==void 0&&(h.userinfo=String(h.userinfo).replace(i.PCT_ENCODED,y).replace(i.NOT_USERINFO,D).replace(i.PCT_ENCODED,c)),h.host!==void 0&&(h.host=String(h.host).replace(i.PCT_ENCODED,y).toLowerCase().replace(i.NOT_HOST,D).replace(i.PCT_ENCODED,c)),h.path!==void 0&&(h.path=String(h.path).replace(i.PCT_ENCODED,y).replace(h.scheme?i.NOT_PATH:i.NOT_PATH_NOSCHEME,D).replace(i.PCT_ENCODED,c)),h.query!==void 0&&(h.query=String(h.query).replace(i.PCT_ENCODED,y).replace(i.NOT_QUERY,D).replace(i.PCT_ENCODED,c)),h.fragment!==void 0&&(h.fragment=String(h.fragment).replace(i.PCT_ENCODED,y).replace(i.NOT_FRAGMENT,D).replace(i.PCT_ENCODED,c)),h}function te(h){return h.replace(/^0*(.*)/,"$1")||"0"}function oe(h,i){var y=h.match(i.IPV4ADDRESS)||[],C=T(y,2),N=C[1];return N?N.split(".").map(te).join("."):h}function Ie(h,i){var y=h.match(i.IPV6ADDRESS)||[],C=T(y,3),N=C[1],K=C[2];if(N){for(var G=N.toLowerCase().split("::").reverse(),ee=T(G,2),ae=ee[0],le=ee[1],x=le?le.split(":").map(te):[],ne=ae.split(":").map(te),de=i.IPV4ADDRESS.test(ne[ne.length-1]),Y=de?7:8,ie=ne.length-Y,pe=Array(Y),ce=0;ce<Y;++ce)pe[ce]=x[ce]||ne[ie+ce]||"";de&&(pe[Y-1]=oe(pe[Y-1],i));var Be=pe.reduce(function(je,ze,rt){if(!ze||ze==="0"){var Ue=je[je.length-1];Ue&&Ue.index+Ue.length===rt?Ue.length++:je.push({index:rt,length:1})}return je},[]),Me=Be.sort(function(je,ze){return ze.length-je.length})[0],Ve=void 0;if(Me&&Me.length>1){var ht=pe.slice(0,Me.index),tt=pe.slice(Me.index+Me.length);Ve=ht.join(":")+"::"+tt.join(":")}else Ve=pe.join(":");return K&&(Ve+="%"+K),Ve}else return h}var At=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,It="".match(/(){0}/)[1]===void 0;function Ee(h){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y={},C=i.iri!==!1?g:p;i.reference==="suffix"&&(h=(i.scheme?i.scheme+":":"")+"//"+h);var N=h.match(At);if(N){It?(y.scheme=N[1],y.userinfo=N[3],y.host=N[4],y.port=parseInt(N[5],10),y.path=N[6]||"",y.query=N[7],y.fragment=N[8],isNaN(y.port)&&(y.port=N[5])):(y.scheme=N[1]||void 0,y.userinfo=h.indexOf("@")!==-1?N[3]:void 0,y.host=h.indexOf("//")!==-1?N[4]:void 0,y.port=parseInt(N[5],10),y.path=N[6]||"",y.query=h.indexOf("?")!==-1?N[7]:void 0,y.fragment=h.indexOf("#")!==-1?N[8]:void 0,isNaN(y.port)&&(y.port=h.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?N[4]:void 0)),y.host&&(y.host=Ie(oe(y.host,C),C)),y.scheme===void 0&&y.userinfo===void 0&&y.host===void 0&&y.port===void 0&&!y.path&&y.query===void 0?y.reference="same-document":y.scheme===void 0?y.reference="relative":y.fragment===void 0?y.reference="absolute":y.reference="uri",i.reference&&i.reference!=="suffix"&&i.reference!==y.reference&&(y.error=y.error||"URI is not a "+i.reference+" reference.");var K=V[(i.scheme||y.scheme||"").toLowerCase()];if(!i.unicodeSupport&&(!K||!K.unicodeSupport)){if(y.host&&(i.domainHost||K&&K.domainHost))try{y.host=O.toASCII(y.host.replace(C.PCT_ENCODED,U).toLowerCase())}catch(G){y.error=y.error||"Host's domain name can not be converted to ASCII via punycode: "+G}B(y,p)}else B(y,C);K&&K.parse&&K.parse(y,i)}else y.error=y.error||"URI can not be parsed.";return y}function kt(h,i){var y=i.iri!==!1?g:p,C=[];return h.userinfo!==void 0&&(C.push(h.userinfo),C.push("@")),h.host!==void 0&&C.push(Ie(oe(String(h.host),y),y).replace(y.IPV6ADDRESS,function(N,K,G){return"["+K+(G?"%25"+G:"")+"]"})),(typeof h.port=="number"||typeof h.port=="string")&&(C.push(":"),C.push(String(h.port))),C.length?C.join(""):void 0}var lt=/^\.\.?\//,dt=/^\/\.(\/|$)/,ft=/^\/\.\.(\/|$)/,Dt=/^\/?(?:.|\n)*?(?=\/|$)/;function ke(h){for(var i=[];h.length;)if(h.match(lt))h=h.replace(lt,"");else if(h.match(dt))h=h.replace(dt,"/");else if(h.match(ft))h=h.replace(ft,"/"),i.pop();else if(h==="."||h==="..")h="";else{var y=h.match(Dt);if(y){var C=y[0];h=h.slice(C.length),i.push(C)}else throw new Error("Unexpected dot segment condition")}return i.join("")}function _e(h){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=i.iri?g:p,C=[],N=V[(i.scheme||h.scheme||"").toLowerCase()];if(N&&N.serialize&&N.serialize(h,i),h.host&&!y.IPV6ADDRESS.test(h.host)){if(i.domainHost||N&&N.domainHost)try{h.host=i.iri?O.toUnicode(h.host):O.toASCII(h.host.replace(y.PCT_ENCODED,U).toLowerCase())}catch(ee){h.error=h.error||"Host's domain name can not be converted to "+(i.iri?"Unicode":"ASCII")+" via punycode: "+ee}}B(h,y),i.reference!=="suffix"&&h.scheme&&(C.push(h.scheme),C.push(":"));var K=kt(h,i);if(K!==void 0&&(i.reference!=="suffix"&&C.push("//"),C.push(K),h.path&&h.path.charAt(0)!=="/"&&C.push("/")),h.path!==void 0){var G=h.path;!i.absolutePath&&(!N||!N.absolutePath)&&(G=ke(G)),K===void 0&&(G=G.replace(/^\/\//,"/%2F")),C.push(G)}return h.query!==void 0&&(C.push("?"),C.push(h.query)),h.fragment!==void 0&&(C.push("#"),C.push(h.fragment)),C.join("")}function pt(h,i){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=arguments[3],N={};return C||(h=Ee(_e(h,y),y),i=Ee(_e(i,y),y)),y=y||{},!y.tolerant&&i.scheme?(N.scheme=i.scheme,N.userinfo=i.userinfo,N.host=i.host,N.port=i.port,N.path=ke(i.path||""),N.query=i.query):(i.userinfo!==void 0||i.host!==void 0||i.port!==void 0?(N.userinfo=i.userinfo,N.host=i.host,N.port=i.port,N.path=ke(i.path||""),N.query=i.query):(i.path?(i.path.charAt(0)==="/"?N.path=ke(i.path):((h.userinfo!==void 0||h.host!==void 0||h.port!==void 0)&&!h.path?N.path="/"+i.path:h.path?N.path=h.path.slice(0,h.path.lastIndexOf("/")+1)+i.path:N.path=i.path,N.path=ke(N.path)),N.query=i.query):(N.path=h.path,i.query!==void 0?N.query=i.query:N.query=h.query),N.userinfo=h.userinfo,N.host=h.host,N.port=h.port),N.scheme=h.scheme),N.fragment=i.fragment,N}function Mt(h,i,y){var C=l({scheme:"null"},y);return _e(pt(Ee(h,C),Ee(i,C),C,!0),C)}function xe(h,i){return typeof h=="string"?h=_e(Ee(h,i),i):o(h)==="object"&&(h=Ee(_e(h,i),i)),h}function Vt(h,i,y){return typeof h=="string"?h=_e(Ee(h,y),y):o(h)==="object"&&(h=_e(h,y)),typeof i=="string"?i=_e(Ee(i,y),y):o(i)==="object"&&(i=_e(i,y)),h===i}function Qt(h,i){return h&&h.toString().replace(!i||!i.iri?p.ESCAPE:g.ESCAPE,D)}function Se(h,i){return h&&h.toString().replace(!i||!i.iri?p.PCT_ENCODED:g.PCT_ENCODED,U)}var et={scheme:"http",domainHost:!0,parse:function(i,y){return i.host||(i.error=i.error||"HTTP URIs must have a host."),i},serialize:function(i,y){var C=String(i.scheme).toLowerCase()==="https";return(i.port===(C?443:80)||i.port==="")&&(i.port=void 0),i.path||(i.path="/"),i}},Hn={scheme:"https",domainHost:et.domainHost,parse:et.parse,serialize:et.serialize};function Bn(h){return typeof h.secure=="boolean"?h.secure:String(h.scheme).toLowerCase()==="wss"}var zt={scheme:"ws",domainHost:!0,parse:function(i,y){var C=i;return C.secure=Bn(C),C.resourceName=(C.path||"/")+(C.query?"?"+C.query:""),C.path=void 0,C.query=void 0,C},serialize:function(i,y){if((i.port===(Bn(i)?443:80)||i.port==="")&&(i.port=void 0),typeof i.secure=="boolean"&&(i.scheme=i.secure?"wss":"ws",i.secure=void 0),i.resourceName){var C=i.resourceName.split("?"),N=T(C,2),K=N[0],G=N[1];i.path=K&&K!=="/"?K:void 0,i.query=G,i.resourceName=void 0}return i.fragment=void 0,i}},Jn={scheme:"wss",domainHost:zt.domainHost,parse:zt.parse,serialize:zt.serialize},Ps={},Wn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",De="[0-9A-Fa-f]",Ss=a(a("%[EFef]"+De+"%"+De+De+"%"+De+De)+"|"+a("%[89A-Fa-f]"+De+"%"+De+De)+"|"+a("%"+De+De)),js="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Os="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ns=n(Os,'[\\"\\\\]'),Cs="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Rs=new RegExp(Wn,"g"),mt=new RegExp(Ss,"g"),Ts=new RegExp(n("[^]",js,"[\\.]",'[\\"]',Ns),"g"),Yn=new RegExp(n("[^]",Wn,Cs),"g"),As=Yn;function Tr(h){var i=U(h);return i.match(Rs)?i:h}var Xn={scheme:"mailto",parse:function(i,y){var C=i,N=C.to=C.path?C.path.split(","):[];if(C.path=void 0,C.query){for(var K=!1,G={},ee=C.query.split("&"),ae=0,le=ee.length;ae<le;++ae){var x=ee[ae].split("=");switch(x[0]){case"to":for(var ne=x[1].split(","),de=0,Y=ne.length;de<Y;++de)N.push(ne[de]);break;case"subject":C.subject=Se(x[1],y);break;case"body":C.body=Se(x[1],y);break;default:K=!0,G[Se(x[0],y)]=Se(x[1],y);break}}K&&(C.headers=G)}C.query=void 0;for(var ie=0,pe=N.length;ie<pe;++ie){var ce=N[ie].split("@");if(ce[0]=Se(ce[0]),y.unicodeSupport)ce[1]=Se(ce[1],y).toLowerCase();else try{ce[1]=O.toASCII(Se(ce[1],y).toLowerCase())}catch(Be){C.error=C.error||"Email address's domain name can not be converted to ASCII via punycode: "+Be}N[ie]=ce.join("@")}return C},serialize:function(i,y){var C=i,N=d(i.to);if(N){for(var K=0,G=N.length;K<G;++K){var ee=String(N[K]),ae=ee.lastIndexOf("@"),le=ee.slice(0,ae).replace(mt,Tr).replace(mt,c).replace(Ts,D),x=ee.slice(ae+1);try{x=y.iri?O.toUnicode(x):O.toASCII(Se(x,y).toLowerCase())}catch(ie){C.error=C.error||"Email address's domain name can not be converted to "+(y.iri?"Unicode":"ASCII")+" via punycode: "+ie}N[K]=le+"@"+x}C.path=N.join(",")}var ne=i.headers=i.headers||{};i.subject&&(ne.subject=i.subject),i.body&&(ne.body=i.body);var de=[];for(var Y in ne)ne[Y]!==Ps[Y]&&de.push(Y.replace(mt,Tr).replace(mt,c).replace(Yn,D)+"="+ne[Y].replace(mt,Tr).replace(mt,c).replace(As,D));return de.length&&(C.query=de.join("&")),C}},Is=/^([^\:]+)\:(.*)/,Zn={scheme:"urn",parse:function(i,y){var C=i.path&&i.path.match(Is),N=i;if(C){var K=y.scheme||N.scheme||"urn",G=C[1].toLowerCase(),ee=C[2],ae=K+":"+(y.nid||G),le=V[ae];N.nid=G,N.nss=ee,N.path=void 0,le&&(N=le.parse(N,y))}else N.error=N.error||"URN can not be parsed.";return N},serialize:function(i,y){var C=y.scheme||i.scheme||"urn",N=i.nid,K=C+":"+(y.nid||N),G=V[K];G&&(i=G.serialize(i,y));var ee=i,ae=i.nss;return ee.path=(N||y.nid)+":"+ae,ee}},ks=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Qn={scheme:"urn:uuid",parse:function(i,y){var C=i;return C.uuid=C.nss,C.nss=void 0,!y.tolerant&&(!C.uuid||!C.uuid.match(ks))&&(C.error=C.error||"UUID is not valid."),C},serialize:function(i,y){var C=i;return C.nss=(i.uuid||"").toLowerCase(),C}};V[et.scheme]=et,V[Hn.scheme]=Hn,V[zt.scheme]=zt,V[Jn.scheme]=Jn,V[Xn.scheme]=Xn,V[Zn.scheme]=Zn,V[Qn.scheme]=Qn,r.SCHEMES=V,r.pctEncChar=D,r.pctDecChars=U,r.parse=Ee,r.removeDotSegments=ke,r.serialize=_e,r.resolveComponents=pt,r.resolve=Mt,r.normalize=xe,r.equal=Vt,r.escapeComponent=Qt,r.unescapeComponent=Se,Object.defineProperty(r,"__esModule",{value:!0})})})(Ur,Ur.exports);var Ei=Ur.exports;Object.defineProperty(rn,"__esModule",{value:!0});const ss=Ei;ss.code='require("ajv/dist/runtime/uri").default';rn.default=ss;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Pe;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=W;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=jt,a=Ot,o=ct,c=ge,d=W,l=he,u=Xt,p=Q,g=wi,T=rn,A=(F,b)=>new RegExp(F,b);A.code="new RegExp";const E=["removeAdditional","useDefaults","coerceTypes"],S=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},m={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},$=200;function j(F){var b,P,v,s,f,O,V,D,U,B,te,oe,Ie,At,It,Ee,kt,lt,dt,ft,Dt,ke,_e,pt,Mt;const xe=F.strict,Vt=(b=F.code)===null||b===void 0?void 0:b.optimize,Qt=Vt===!0||Vt===void 0?1:Vt||0,Se=(v=(P=F.code)===null||P===void 0?void 0:P.regExp)!==null&&v!==void 0?v:A,et=(s=F.uriResolver)!==null&&s!==void 0?s:T.default;return{strictSchema:(O=(f=F.strictSchema)!==null&&f!==void 0?f:xe)!==null&&O!==void 0?O:!0,strictNumbers:(D=(V=F.strictNumbers)!==null&&V!==void 0?V:xe)!==null&&D!==void 0?D:!0,strictTypes:(B=(U=F.strictTypes)!==null&&U!==void 0?U:xe)!==null&&B!==void 0?B:"log",strictTuples:(oe=(te=F.strictTuples)!==null&&te!==void 0?te:xe)!==null&&oe!==void 0?oe:"log",strictRequired:(At=(Ie=F.strictRequired)!==null&&Ie!==void 0?Ie:xe)!==null&&At!==void 0?At:!1,code:F.code?{...F.code,optimize:Qt,regExp:Se}:{optimize:Qt,regExp:Se},loopRequired:(It=F.loopRequired)!==null&&It!==void 0?It:$,loopEnum:(Ee=F.loopEnum)!==null&&Ee!==void 0?Ee:$,meta:(kt=F.meta)!==null&&kt!==void 0?kt:!0,messages:(lt=F.messages)!==null&&lt!==void 0?lt:!0,inlineRefs:(dt=F.inlineRefs)!==null&&dt!==void 0?dt:!0,schemaId:(ft=F.schemaId)!==null&&ft!==void 0?ft:"$id",addUsedSchema:(Dt=F.addUsedSchema)!==null&&Dt!==void 0?Dt:!0,validateSchema:(ke=F.validateSchema)!==null&&ke!==void 0?ke:!0,validateFormats:(_e=F.validateFormats)!==null&&_e!==void 0?_e:!0,unicodeRegExp:(pt=F.unicodeRegExp)!==null&&pt!==void 0?pt:!0,int32range:(Mt=F.int32range)!==null&&Mt!==void 0?Mt:!0,uriResolver:et}}class I{constructor(b={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,b=this.opts={...b,...j(b)};const{es5:P,lines:v}=this.opts.code;this.scope=new d.ValueScope({scope:{},prefixes:S,es5:P,lines:v}),this.logger=H(b.logger);const s=b.validateFormats;b.validateFormats=!1,this.RULES=(0,o.getRules)(),M.call(this,_,b,"NOT SUPPORTED"),M.call(this,m,b,"DEPRECATED","warn"),this._metaOpts=q.call(this),b.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),b.keywords&&z.call(this,b.keywords),typeof b.meta=="object"&&this.addMetaSchema(b.meta),R.call(this),b.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:b,meta:P,schemaId:v}=this.opts;let s=g;v==="id"&&(s={...g},s.id=s.$id,delete s.$id),P&&b&&this.addMetaSchema(s,s[v],!1)}defaultMeta(){const{meta:b,schemaId:P}=this.opts;return this.opts.defaultMeta=typeof b=="object"?b[P]||b:void 0}validate(b,P){let v;if(typeof b=="string"){if(v=this.getSchema(b),!v)throw new Error(`no schema with key or ref "${b}"`)}else v=this.compile(b);const s=v(P);return"$async"in v||(this.errors=v.errors),s}compile(b,P){const v=this._addSchema(b,P);return v.validate||this._compileSchemaEnv(v)}compileAsync(b,P){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:v}=this.opts;return s.call(this,b,P);async function s(B,te){await f.call(this,B.$schema);const oe=this._addSchema(B,te);return oe.validate||O.call(this,oe)}async function f(B){B&&!this.getSchema(B)&&await s.call(this,{$ref:B},!0)}async function O(B){try{return this._compileSchemaEnv(B)}catch(te){if(!(te instanceof a.default))throw te;return V.call(this,te),await D.call(this,te.missingSchema),O.call(this,B)}}function V({missingSchema:B,missingRef:te}){if(this.refs[B])throw new Error(`AnySchema ${B} is loaded but ${te} cannot be resolved`)}async function D(B){const te=await U.call(this,B);this.refs[B]||await f.call(this,te.$schema),this.refs[B]||this.addSchema(te,B,P)}async function U(B){const te=this._loading[B];if(te)return te;try{return await(this._loading[B]=v(B))}finally{delete this._loading[B]}}}addSchema(b,P,v,s=this.opts.validateSchema){if(Array.isArray(b)){for(const O of b)this.addSchema(O,void 0,v,s);return this}let f;if(typeof b=="object"){const{schemaId:O}=this.opts;if(f=b[O],f!==void 0&&typeof f!="string")throw new Error(`schema ${O} must be string`)}return P=(0,l.normalizeId)(P||f),this._checkUnique(P),this.schemas[P]=this._addSchema(b,v,P,s,!0),this}addMetaSchema(b,P,v=this.opts.validateSchema){return this.addSchema(b,P,!0,v),this}validateSchema(b,P){if(typeof b=="boolean")return!0;let v;if(v=b.$schema,v!==void 0&&typeof v!="string")throw new Error("$schema must be a string");if(v=v||this.opts.defaultMeta||this.defaultMeta(),!v)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const s=this.validate(v,b);if(!s&&P){const f="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(f);else throw new Error(f)}return s}getSchema(b){let P;for(;typeof(P=w.call(this,b))=="string";)b=P;if(P===void 0){const{schemaId:v}=this.opts,s=new c.SchemaEnv({schema:{},schemaId:v});if(P=c.resolveSchema.call(this,s,b),!P)return;this.refs[b]=P}return P.validate||this._compileSchemaEnv(P)}removeSchema(b){if(b instanceof RegExp)return this._removeAllSchemas(this.schemas,b),this._removeAllSchemas(this.refs,b),this;switch(typeof b){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const P=w.call(this,b);return typeof P=="object"&&this._cache.delete(P.schema),delete this.schemas[b],delete this.refs[b],this}case"object":{const P=b;this._cache.delete(P);let v=b[this.opts.schemaId];return v&&(v=(0,l.normalizeId)(v),delete this.schemas[v],delete this.refs[v]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(b){for(const P of b)this.addKeyword(P);return this}addKeyword(b,P){let v;if(typeof b=="string")v=b,typeof P=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),P.keyword=v);else if(typeof b=="object"&&P===void 0){if(P=b,v=P.keyword,Array.isArray(v)&&!v.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(re.call(this,v,P),!P)return(0,p.eachItem)(v,f=>ve.call(this,f)),this;He.call(this,P);const s={...P,type:(0,u.getJSONTypes)(P.type),schemaType:(0,u.getJSONTypes)(P.schemaType)};return(0,p.eachItem)(v,s.type.length===0?f=>ve.call(this,f,s):f=>s.type.forEach(O=>ve.call(this,f,s,O))),this}getKeyword(b){const P=this.RULES.all[b];return typeof P=="object"?P.definition:!!P}removeKeyword(b){const{RULES:P}=this;delete P.keywords[b],delete P.all[b];for(const v of P.rules){const s=v.rules.findIndex(f=>f.keyword===b);s>=0&&v.rules.splice(s,1)}return this}addFormat(b,P){return typeof P=="string"&&(P=new RegExp(P)),this.formats[b]=P,this}errorsText(b=this.errors,{separator:P=", ",dataVar:v="data"}={}){return!b||b.length===0?"No errors":b.map(s=>`${v}${s.instancePath} ${s.message}`).reduce((s,f)=>s+P+f)}$dataMetaSchema(b,P){const v=this.RULES.all;b=JSON.parse(JSON.stringify(b));for(const s of P){const f=s.split("/").slice(1);let O=b;for(const V of f)O=O[V];for(const V in v){const D=v[V];if(typeof D!="object")continue;const{$data:U}=D.definition,B=O[V];U&&B&&(O[V]=Ae(B))}}return b}_removeAllSchemas(b,P){for(const v in b){const s=b[v];(!P||P.test(v))&&(typeof s=="string"?delete b[v]:s&&!s.meta&&(this._cache.delete(s.schema),delete b[v]))}}_addSchema(b,P,v,s=this.opts.validateSchema,f=this.opts.addUsedSchema){let O;const{schemaId:V}=this.opts;if(typeof b=="object")O=b[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof b!="boolean")throw new Error("schema must be object or boolean")}let D=this._cache.get(b);if(D!==void 0)return D;v=(0,l.normalizeId)(O||v);const U=l.getSchemaRefs.call(this,b,v);return D=new c.SchemaEnv({schema:b,schemaId:V,meta:P,baseId:v,localRefs:U}),this._cache.set(D.schema,D),f&&!v.startsWith("#")&&(v&&this._checkUnique(v),this.refs[v]=D),s&&this.validateSchema(b,!0),D}_checkUnique(b){if(this.schemas[b]||this.refs[b])throw new Error(`schema with key or id "${b}" already exists`)}_compileSchemaEnv(b){if(b.meta?this._compileMetaSchema(b):c.compileSchema.call(this,b),!b.validate)throw new Error("ajv implementation error");return b.validate}_compileMetaSchema(b){const P=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,b)}finally{this.opts=P}}}e.default=I,I.ValidationError=n.default,I.MissingRefError=a.default;function M(F,b,P,v="error"){for(const s in F){const f=s;f in b&&this.logger[v](`${P}: option ${s}. ${F[f]}`)}}function w(F){return F=(0,l.normalizeId)(F),this.schemas[F]||this.refs[F]}function R(){const F=this.opts.schemas;if(F)if(Array.isArray(F))this.addSchema(F);else for(const b in F)this.addSchema(F[b],b)}function k(){for(const F in this.opts.formats){const b=this.opts.formats[F];b&&this.addFormat(F,b)}}function z(F){if(Array.isArray(F)){this.addVocabulary(F);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const b in F){const P=F[b];P.keyword||(P.keyword=b),this.addKeyword(P)}}function q(){const F={...this.opts};for(const b of E)delete F[b];return F}const X={log(){},warn(){},error(){}};function H(F){if(F===!1)return X;if(F===void 0)return console;if(F.log&&F.warn&&F.error)return F;throw new Error("logger must implement log, warn and error methods")}const ue=/^[a-z_$][a-z0-9_$:-]*$/i;function re(F,b){const{RULES:P}=this;if((0,p.eachItem)(F,v=>{if(P.keywords[v])throw new Error(`Keyword ${v} is already defined`);if(!ue.test(v))throw new Error(`Keyword ${v} has invalid name`)}),!!b&&b.$data&&!("code"in b||"validate"in b))throw new Error('$data keyword must have "code" or "validate" function')}function ve(F,b,P){var v;const s=b==null?void 0:b.post;if(P&&s)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:f}=this;let O=s?f.post:f.rules.find(({type:D})=>D===P);if(O||(O={type:P,rules:[]},f.rules.push(O)),f.keywords[F]=!0,!b)return;const V={keyword:F,definition:{...b,type:(0,u.getJSONTypes)(b.type),schemaType:(0,u.getJSONTypes)(b.schemaType)}};b.before?Te.call(this,O,V,b.before):O.rules.push(V),f.all[F]=V,(v=b.implements)===null||v===void 0||v.forEach(D=>this.addKeyword(D))}function Te(F,b,P){const v=F.rules.findIndex(s=>s.keyword===P);v>=0?F.rules.splice(v,0,b):(F.rules.push(b),this.logger.warn(`rule ${P} is not defined`))}function He(F){let{metaSchema:b}=F;b!==void 0&&(F.$data&&this.opts.$data&&(b=Ae(b)),F.validateSchema=this.compile(b,!0))}const Qe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ae(F){return{anyOf:[F,Qe]}}})(Yr);var Sr={},nn={},an={};Object.defineProperty(an,"__esModule",{value:!0});const Pi={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};an.default=Pi;var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});Ge.callRef=Ge.getValidate=void 0;const Si=Ot,la=Z,be=W,yt=we,da=ge,rr=Q,ji={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:o,validateName:c,opts:d,self:l}=n,{root:u}=o;if((r==="#"||r==="#/")&&a===u.baseId)return g();const p=da.resolveRef.call(l,u,a,r);if(p===void 0)throw new Si.default(n.opts.uriResolver,a,r);if(p instanceof da.SchemaEnv)return T(p);return A(p);function g(){if(o===u)return lr(e,c,o,o.$async);const E=t.scopeValue("root",{ref:u});return lr(e,(0,be._)`${E}.validate`,u,u.$async)}function T(E){const S=os(e,E);lr(e,S,E,E.$async)}function A(E){const S=t.scopeValue("schema",d.code.source===!0?{ref:E,code:(0,be.stringify)(E)}:{ref:E}),_=t.name("valid"),m=e.subschema({schema:E,dataTypes:[],schemaPath:be.nil,topSchemaRef:S,errSchemaPath:r},_);e.mergeEvaluated(m),e.ok(_)}}};function os(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,be._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Ge.getValidate=os;function lr(e,t,r,n){const{gen:a,it:o}=e,{allErrors:c,schemaEnv:d,opts:l}=o,u=l.passContext?yt.default.this:be.nil;n?p():g();function p(){if(!d.$async)throw new Error("async schema referenced by sync schema");const E=a.let("valid");a.try(()=>{a.code((0,be._)`await ${(0,la.callValidateCode)(e,t,u)}`),A(t),c||a.assign(E,!0)},S=>{a.if((0,be._)`!(${S} instanceof ${o.ValidationError})`,()=>a.throw(S)),T(S),c||a.assign(E,!1)}),e.ok(E)}function g(){e.result((0,la.callValidateCode)(e,t,u),()=>A(t),()=>T(t))}function T(E){const S=(0,be._)`${E}.errors`;a.assign(yt.default.vErrors,(0,be._)`${yt.default.vErrors} === null ? ${S} : ${yt.default.vErrors}.concat(${S})`),a.assign(yt.default.errors,(0,be._)`${yt.default.vErrors}.length`)}function A(E){var S;if(!o.opts.unevaluated)return;const _=(S=r==null?void 0:r.validate)===null||S===void 0?void 0:S.evaluated;if(o.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(o.props=rr.mergeEvaluated.props(a,_.props,o.props));else{const m=a.var("props",(0,be._)`${E}.evaluated.props`);o.props=rr.mergeEvaluated.props(a,m,o.props,be.Name)}if(o.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(o.items=rr.mergeEvaluated.items(a,_.items,o.items));else{const m=a.var("items",(0,be._)`${E}.evaluated.items`);o.items=rr.mergeEvaluated.items(a,m,o.items,be.Name)}}}Ge.callRef=lr;Ge.default=ji;Object.defineProperty(nn,"__esModule",{value:!0});const Oi=an,Ni=Ge,Ci=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Oi.default,Ni.default];nn.default=Ci;var sn={},on={};Object.defineProperty(on,"__esModule",{value:!0});const $r=W,We=$r.operators,yr={maximum:{okStr:"<=",ok:We.LTE,fail:We.GT},minimum:{okStr:">=",ok:We.GTE,fail:We.LT},exclusiveMaximum:{okStr:"<",ok:We.LT,fail:We.GTE},exclusiveMinimum:{okStr:">",ok:We.GT,fail:We.LTE}},Ri={message:({keyword:e,schemaCode:t})=>(0,$r.str)`must be ${yr[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,$r._)`{comparison: ${yr[e].okStr}, limit: ${t}}`},Ti={keyword:Object.keys(yr),type:"number",schemaType:"number",$data:!0,error:Ri,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,$r._)`${r} ${yr[t].fail} ${n} || isNaN(${r})`)}};on.default=Ti;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});const Bt=W,Ai={message:({schemaCode:e})=>(0,Bt.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Bt._)`{multipleOf: ${e}}`},Ii={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Ai,code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,o=a.opts.multipleOfPrecision,c=t.let("res"),d=o?(0,Bt._)`Math.abs(Math.round(${c}) - ${c}) > 1e-${o}`:(0,Bt._)`${c} !== parseInt(${c})`;e.fail$data((0,Bt._)`(${n} === 0 || (${c} = ${r}/${n}, ${d}))`)}};cn.default=Ii;var un={},ln={};Object.defineProperty(ln,"__esModule",{value:!0});function is(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}ln.default=is;is.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(un,"__esModule",{value:!0});const st=W,ki=Q,Di=ln,Mi={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,st.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,st._)`{limit: ${e}}`},Vi={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Mi,code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,o=t==="maxLength"?st.operators.GT:st.operators.LT,c=a.opts.unicode===!1?(0,st._)`${r}.length`:(0,st._)`${(0,ki.useFunc)(e.gen,Di.default)}(${r})`;e.fail$data((0,st._)`${c} ${o} ${n}`)}};un.default=Vi;var dn={};Object.defineProperty(dn,"__esModule",{value:!0});const zi=Z,gr=W,Fi={message:({schemaCode:e})=>(0,gr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,gr._)`{pattern: ${e}}`},qi={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Fi,code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:o}=e,c=o.opts.unicodeRegExp?"u":"",d=r?(0,gr._)`(new RegExp(${a}, ${c}))`:(0,zi.usePattern)(e,n);e.fail$data((0,gr._)`!${d}.test(${t})`)}};dn.default=qi;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});const Jt=W,Ui={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Jt.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Jt._)`{limit: ${e}}`},Li={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Ui,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?Jt.operators.GT:Jt.operators.LT;e.fail$data((0,Jt._)`Object.keys(${r}).length ${a} ${n}`)}};fn.default=Li;var pn={};Object.defineProperty(pn,"__esModule",{value:!0});const Lt=Z,Wt=W,Ki=Q,Gi={message:({params:{missingProperty:e}})=>(0,Wt.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Wt._)`{missingProperty: ${e}}`},Hi={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Gi,code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:o,it:c}=e,{opts:d}=c;if(!o&&r.length===0)return;const l=r.length>=d.loopRequired;if(c.allErrors?u():p(),d.strictRequired){const A=e.parentSchema.properties,{definedProperties:E}=e.it;for(const S of r)if((A==null?void 0:A[S])===void 0&&!E.has(S)){const _=c.schemaEnv.baseId+c.errSchemaPath,m=`required property "${S}" is not defined at "${_}" (strictRequired)`;(0,Ki.checkStrictMode)(c,m,c.opts.strictRequired)}}function u(){if(l||o)e.block$data(Wt.nil,g);else for(const A of r)(0,Lt.checkReportMissingProp)(e,A)}function p(){const A=t.let("missing");if(l||o){const E=t.let("valid",!0);e.block$data(E,()=>T(A,E)),e.ok(E)}else t.if((0,Lt.checkMissingProp)(e,r,A)),(0,Lt.reportMissingProp)(e,A),t.else()}function g(){t.forOf("prop",n,A=>{e.setParams({missingProperty:A}),t.if((0,Lt.noPropertyInData)(t,a,A,d.ownProperties),()=>e.error())})}function T(A,E){e.setParams({missingProperty:A}),t.forOf(A,n,()=>{t.assign(E,(0,Lt.propertyInData)(t,a,A,d.ownProperties)),t.if((0,Wt.not)(E),()=>{e.error(),t.break()})},Wt.nil)}}};pn.default=Hi;var mn={};Object.defineProperty(mn,"__esModule",{value:!0});const Yt=W,Bi={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Yt.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Yt._)`{limit: ${e}}`},Ji={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Bi,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?Yt.operators.GT:Yt.operators.LT;e.fail$data((0,Yt._)`${r}.length ${a} ${n}`)}};mn.default=Ji;var hn={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});const cs=La;cs.code='require("ajv/dist/runtime/equal").default';Zt.default=cs;Object.defineProperty(hn,"__esModule",{value:!0});const Dr=Xt,me=W,Wi=Q,Yi=Zt,Xi={message:({params:{i:e,j:t}})=>(0,me.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,me._)`{i: ${e}, j: ${t}}`},Zi={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Xi,code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:o,schemaCode:c,it:d}=e;if(!n&&!a)return;const l=t.let("valid"),u=o.items?(0,Dr.getSchemaTypes)(o.items):[];e.block$data(l,p,(0,me._)`${c} === false`),e.ok(l);function p(){const E=t.let("i",(0,me._)`${r}.length`),S=t.let("j");e.setParams({i:E,j:S}),t.assign(l,!0),t.if((0,me._)`${E} > 1`,()=>(g()?T:A)(E,S))}function g(){return u.length>0&&!u.some(E=>E==="object"||E==="array")}function T(E,S){const _=t.name("item"),m=(0,Dr.checkDataTypes)(u,_,d.opts.strictNumbers,Dr.DataType.Wrong),$=t.const("indices",(0,me._)`{}`);t.for((0,me._)`;${E}--;`,()=>{t.let(_,(0,me._)`${r}[${E}]`),t.if(m,(0,me._)`continue`),u.length>1&&t.if((0,me._)`typeof ${_} == "string"`,(0,me._)`${_} += "_"`),t.if((0,me._)`typeof ${$}[${_}] == "number"`,()=>{t.assign(S,(0,me._)`${$}[${_}]`),e.error(),t.assign(l,!1).break()}).code((0,me._)`${$}[${_}] = ${E}`)})}function A(E,S){const _=(0,Wi.useFunc)(t,Yi.default),m=t.name("outer");t.label(m).for((0,me._)`;${E}--;`,()=>t.for((0,me._)`${S} = ${E}; ${S}--;`,()=>t.if((0,me._)`${_}(${r}[${E}], ${r}[${S}])`,()=>{e.error(),t.assign(l,!1).break(m)})))}}};hn.default=Zi;var $n={};Object.defineProperty($n,"__esModule",{value:!0});const Lr=W,Qi=Q,xi=Zt,ec={message:"must be equal to constant",params:({schemaCode:e})=>(0,Lr._)`{allowedValue: ${e}}`},tc={keyword:"const",$data:!0,error:ec,code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,Lr._)`!${(0,Qi.useFunc)(t,xi.default)}(${r}, ${a})`):e.fail((0,Lr._)`${o} !== ${r}`)}};$n.default=tc;var yn={};Object.defineProperty(yn,"__esModule",{value:!0});const Gt=W,rc=Q,nc=Zt,ac={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Gt._)`{allowedValues: ${e}}`},sc={keyword:"enum",schemaType:"array",$data:!0,error:ac,code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:o,it:c}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const d=a.length>=c.opts.loopEnum;let l;const u=()=>l??(l=(0,rc.useFunc)(t,nc.default));let p;if(d||n)p=t.let("valid"),e.block$data(p,g);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const A=t.const("vSchema",o);p=(0,Gt.or)(...a.map((E,S)=>T(A,S)))}e.pass(p);function g(){t.assign(p,!1),t.forOf("v",o,A=>t.if((0,Gt._)`${u()}(${r}, ${A})`,()=>t.assign(p,!0).break()))}function T(A,E){const S=a[E];return typeof S=="object"&&S!==null?(0,Gt._)`${u()}(${r}, ${A}[${E}])`:(0,Gt._)`${r} === ${S}`}}};yn.default=sc;Object.defineProperty(sn,"__esModule",{value:!0});const oc=on,ic=cn,cc=un,uc=dn,lc=fn,dc=pn,fc=mn,pc=hn,mc=$n,hc=yn,$c=[oc.default,ic.default,cc.default,uc.default,lc.default,dc.default,fc.default,pc.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},mc.default,hc.default];sn.default=$c;var gn={},Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.validateAdditionalItems=void 0;const ot=W,Kr=Q,yc={message:({params:{len:e}})=>(0,ot.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,ot._)`{limit: ${e}}`},gc={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:yc,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Kr.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}us(e,n)}};function us(e,t){const{gen:r,schema:n,data:a,keyword:o,it:c}=e;c.items=!0;const d=r.const("len",(0,ot._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,ot._)`${d} <= ${t.length}`);else if(typeof n=="object"&&!(0,Kr.alwaysValidSchema)(c,n)){const u=r.var("valid",(0,ot._)`${d} <= ${t.length}`);r.if((0,ot.not)(u),()=>l(u)),e.ok(u)}function l(u){r.forRange("i",t.length,d,p=>{e.subschema({keyword:o,dataProp:p,dataPropType:Kr.Type.Num},u),c.allErrors||r.if((0,ot.not)(u),()=>r.break())})}}Nt.validateAdditionalItems=us;Nt.default=gc;var vn={},Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});Ct.validateTuple=void 0;const fa=W,dr=Q,vc=Z,_c={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return ls(e,"additionalItems",t);r.items=!0,!(0,dr.alwaysValidSchema)(r,t)&&e.ok((0,vc.validateArray)(e))}};function ls(e,t,r=e.schema){const{gen:n,parentSchema:a,data:o,keyword:c,it:d}=e;p(a),d.opts.unevaluated&&r.length&&d.items!==!0&&(d.items=dr.mergeEvaluated.items(n,r.length,d.items));const l=n.name("valid"),u=n.const("len",(0,fa._)`${o}.length`);r.forEach((g,T)=>{(0,dr.alwaysValidSchema)(d,g)||(n.if((0,fa._)`${u} > ${T}`,()=>e.subschema({keyword:c,schemaProp:T,dataProp:T},l)),e.ok(l))});function p(g){const{opts:T,errSchemaPath:A}=d,E=r.length,S=E===g.minItems&&(E===g.maxItems||g[t]===!1);if(T.strictTuples&&!S){const _=`"${c}" is ${E}-tuple, but minItems or maxItems/${t} are not specified or different at path "${A}"`;(0,dr.checkStrictMode)(d,_,T.strictTuples)}}}Ct.validateTuple=ls;Ct.default=_c;Object.defineProperty(vn,"__esModule",{value:!0});const bc=Ct,wc={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,bc.validateTuple)(e,"items")};vn.default=wc;var _n={};Object.defineProperty(_n,"__esModule",{value:!0});const pa=W,Ec=Q,Pc=Z,Sc=Nt,jc={message:({params:{len:e}})=>(0,pa.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,pa._)`{limit: ${e}}`},Oc={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:jc,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,Ec.alwaysValidSchema)(n,t)&&(a?(0,Sc.validateAdditionalItems)(e,a):e.ok((0,Pc.validateArray)(e)))}};_n.default=Oc;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});const Oe=W,nr=Q,Nc={message:({params:{min:e,max:t}})=>t===void 0?(0,Oe.str)`must contain at least ${e} valid item(s)`:(0,Oe.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Oe._)`{minContains: ${e}}`:(0,Oe._)`{minContains: ${e}, maxContains: ${t}}`},Cc={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Nc,code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:o}=e;let c,d;const{minContains:l,maxContains:u}=n;o.opts.next?(c=l===void 0?1:l,d=u):c=1;const p=t.const("len",(0,Oe._)`${a}.length`);if(e.setParams({min:c,max:d}),d===void 0&&c===0){(0,nr.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&c>d){(0,nr.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,nr.alwaysValidSchema)(o,r)){let S=(0,Oe._)`${p} >= ${c}`;d!==void 0&&(S=(0,Oe._)`${S} && ${p} <= ${d}`),e.pass(S);return}o.items=!0;const g=t.name("valid");d===void 0&&c===1?A(g,()=>t.if(g,()=>t.break())):c===0?(t.let(g,!0),d!==void 0&&t.if((0,Oe._)`${a}.length > 0`,T)):(t.let(g,!1),T()),e.result(g,()=>e.reset());function T(){const S=t.name("_valid"),_=t.let("count",0);A(S,()=>t.if(S,()=>E(_)))}function A(S,_){t.forRange("i",0,p,m=>{e.subschema({keyword:"contains",dataProp:m,dataPropType:nr.Type.Num,compositeRule:!0},S),_()})}function E(S){t.code((0,Oe._)`${S}++`),d===void 0?t.if((0,Oe._)`${S} >= ${c}`,()=>t.assign(g,!0).break()):(t.if((0,Oe._)`${S} > ${d}`,()=>t.assign(g,!1).break()),c===1?t.assign(g,!0):t.if((0,Oe._)`${S} >= ${c}`,()=>t.assign(g,!0)))}}};bn.default=Cc;var jr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=W,r=Q,n=Z;e.error={message:({params:{property:l,depsCount:u,deps:p}})=>{const g=u===1?"property":"properties";return(0,t.str)`must have ${g} ${p} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:p,missingProperty:g}})=>(0,t._)`{property: ${l},
    missingProperty: ${g},
    depsCount: ${u},
    deps: ${p}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[u,p]=o(l);c(l,u),d(l,p)}};function o({schema:l}){const u={},p={};for(const g in l){if(g==="__proto__")continue;const T=Array.isArray(l[g])?u:p;T[g]=l[g]}return[u,p]}function c(l,u=l.schema){const{gen:p,data:g,it:T}=l;if(Object.keys(u).length===0)return;const A=p.let("missing");for(const E in u){const S=u[E];if(S.length===0)continue;const _=(0,n.propertyInData)(p,g,E,T.opts.ownProperties);l.setParams({property:E,depsCount:S.length,deps:S.join(", ")}),T.allErrors?p.if(_,()=>{for(const m of S)(0,n.checkReportMissingProp)(l,m)}):(p.if((0,t._)`${_} && (${(0,n.checkMissingProp)(l,S,A)})`),(0,n.reportMissingProp)(l,A),p.else())}}e.validatePropertyDeps=c;function d(l,u=l.schema){const{gen:p,data:g,keyword:T,it:A}=l,E=p.name("valid");for(const S in u)(0,r.alwaysValidSchema)(A,u[S])||(p.if((0,n.propertyInData)(p,g,S,A.opts.ownProperties),()=>{const _=l.subschema({keyword:T,schemaProp:S},E);l.mergeValidEvaluated(_,E)},()=>p.var(E,!0)),l.ok(E))}e.validateSchemaDeps=d,e.default=a})(jr);var wn={};Object.defineProperty(wn,"__esModule",{value:!0});const ds=W,Rc=Q,Tc={message:"property name must be valid",params:({params:e})=>(0,ds._)`{propertyName: ${e.propertyName}}`},Ac={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Tc,code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,Rc.alwaysValidSchema)(a,r))return;const o=t.name("valid");t.forIn("key",n,c=>{e.setParams({propertyName:c}),e.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},o),t.if((0,ds.not)(o),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(o)}};wn.default=Ac;var Or={};Object.defineProperty(Or,"__esModule",{value:!0});const ar=Z,Ce=W,Ic=we,sr=Q,kc={message:"must NOT have additional properties",params:({params:e})=>(0,Ce._)`{additionalProperty: ${e.additionalProperty}}`},Dc={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:kc,code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:o,it:c}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:d,opts:l}=c;if(c.props=!0,l.removeAdditional!=="all"&&(0,sr.alwaysValidSchema)(c,r))return;const u=(0,ar.allSchemaProperties)(n.properties),p=(0,ar.allSchemaProperties)(n.patternProperties);g(),e.ok((0,Ce._)`${o} === ${Ic.default.errors}`);function g(){t.forIn("key",a,_=>{!u.length&&!p.length?E(_):t.if(T(_),()=>E(_))})}function T(_){let m;if(u.length>8){const $=(0,sr.schemaRefOrVal)(c,n.properties,"properties");m=(0,ar.isOwnProperty)(t,$,_)}else u.length?m=(0,Ce.or)(...u.map($=>(0,Ce._)`${_} === ${$}`)):m=Ce.nil;return p.length&&(m=(0,Ce.or)(m,...p.map($=>(0,Ce._)`${(0,ar.usePattern)(e,$)}.test(${_})`))),(0,Ce.not)(m)}function A(_){t.code((0,Ce._)`delete ${a}[${_}]`)}function E(_){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){A(_);return}if(r===!1){e.setParams({additionalProperty:_}),e.error(),d||t.break();return}if(typeof r=="object"&&!(0,sr.alwaysValidSchema)(c,r)){const m=t.name("valid");l.removeAdditional==="failing"?(S(_,m,!1),t.if((0,Ce.not)(m),()=>{e.reset(),A(_)})):(S(_,m),d||t.if((0,Ce.not)(m),()=>t.break()))}}function S(_,m,$){const j={keyword:"additionalProperties",dataProp:_,dataPropType:sr.Type.Str};$===!1&&Object.assign(j,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(j,m)}}};Or.default=Dc;var En={};Object.defineProperty(En,"__esModule",{value:!0});const Mc=Pe,ma=Z,Mr=Q,ha=Or,Vc={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&ha.default.code(new Mc.KeywordCxt(o,ha.default,"additionalProperties"));const c=(0,ma.allSchemaProperties)(r);for(const g of c)o.definedProperties.add(g);o.opts.unevaluated&&c.length&&o.props!==!0&&(o.props=Mr.mergeEvaluated.props(t,(0,Mr.toHash)(c),o.props));const d=c.filter(g=>!(0,Mr.alwaysValidSchema)(o,r[g]));if(d.length===0)return;const l=t.name("valid");for(const g of d)u(g)?p(g):(t.if((0,ma.propertyInData)(t,a,g,o.opts.ownProperties)),p(g),o.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(g),e.ok(l);function u(g){return o.opts.useDefaults&&!o.compositeRule&&r[g].default!==void 0}function p(g){e.subschema({keyword:"properties",schemaProp:g,dataProp:g},l)}}};En.default=Vc;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});const $a=Z,or=W,ya=Q,ga=Q,zc={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:o}=e,{opts:c}=o,d=(0,$a.allSchemaProperties)(r),l=d.filter(S=>(0,ya.alwaysValidSchema)(o,r[S]));if(d.length===0||l.length===d.length&&(!o.opts.unevaluated||o.props===!0))return;const u=c.strictSchema&&!c.allowMatchingProperties&&a.properties,p=t.name("valid");o.props!==!0&&!(o.props instanceof or.Name)&&(o.props=(0,ga.evaluatedPropsToName)(t,o.props));const{props:g}=o;T();function T(){for(const S of d)u&&A(S),o.allErrors?E(S):(t.var(p,!0),E(S),t.if(p))}function A(S){for(const _ in u)new RegExp(S).test(_)&&(0,ya.checkStrictMode)(o,`property ${_} matches pattern ${S} (use allowMatchingProperties)`)}function E(S){t.forIn("key",n,_=>{t.if((0,or._)`${(0,$a.usePattern)(e,S)}.test(${_})`,()=>{const m=l.includes(S);m||e.subschema({keyword:"patternProperties",schemaProp:S,dataProp:_,dataPropType:ga.Type.Str},p),o.opts.unevaluated&&g!==!0?t.assign((0,or._)`${g}[${_}]`,!0):!m&&!o.allErrors&&t.if((0,or.not)(p),()=>t.break())})})}}};Pn.default=zc;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});const Fc=Q,qc={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Fc.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Sn.default=qc;var jn={};Object.defineProperty(jn,"__esModule",{value:!0});const Uc=Z,Lc={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Uc.validateUnion,error:{message:"must match a schema in anyOf"}};jn.default=Lc;var On={};Object.defineProperty(On,"__esModule",{value:!0});const fr=W,Kc=Q,Gc={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,fr._)`{passingSchemas: ${e.passing}}`},Hc={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Gc,code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const o=r,c=t.let("valid",!1),d=t.let("passing",null),l=t.name("_valid");e.setParams({passing:d}),t.block(u),e.result(c,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((p,g)=>{let T;(0,Kc.alwaysValidSchema)(a,p)?t.var(l,!0):T=e.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},l),g>0&&t.if((0,fr._)`${l} && ${c}`).assign(c,!1).assign(d,(0,fr._)`[${d}, ${g}]`).else(),t.if(l,()=>{t.assign(c,!0),t.assign(d,g),T&&e.mergeEvaluated(T,fr.Name)})})}}};On.default=Hc;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});const Bc=Q,Jc={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((o,c)=>{if((0,Bc.alwaysValidSchema)(n,o))return;const d=e.subschema({keyword:"allOf",schemaProp:c},a);e.ok(a),e.mergeEvaluated(d)})}};Nn.default=Jc;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});const vr=W,fs=Q,Wc={message:({params:e})=>(0,vr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,vr._)`{failingKeyword: ${e.ifClause}}`},Yc={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Wc,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,fs.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=va(n,"then"),o=va(n,"else");if(!a&&!o)return;const c=t.let("valid",!0),d=t.name("_valid");if(l(),e.reset(),a&&o){const p=t.let("ifClause");e.setParams({ifClause:p}),t.if(d,u("then",p),u("else",p))}else a?t.if(d,u("then")):t.if((0,vr.not)(d),u("else"));e.pass(c,()=>e.error(!0));function l(){const p=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},d);e.mergeEvaluated(p)}function u(p,g){return()=>{const T=e.subschema({keyword:p},d);t.assign(c,d),e.mergeValidEvaluated(T,c),g?t.assign(g,(0,vr._)`${p}`):e.setParams({ifClause:p})}}}};function va(e,t){const r=e.schema[t];return r!==void 0&&!(0,fs.alwaysValidSchema)(e,r)}Cn.default=Yc;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});const Xc=Q,Zc={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Xc.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Rn.default=Zc;Object.defineProperty(gn,"__esModule",{value:!0});const Qc=Nt,xc=vn,eu=Ct,tu=_n,ru=bn,nu=jr,au=wn,su=Or,ou=En,iu=Pn,cu=Sn,uu=jn,lu=On,du=Nn,fu=Cn,pu=Rn;function mu(e=!1){const t=[cu.default,uu.default,lu.default,du.default,fu.default,pu.default,au.default,su.default,nu.default,ou.default,iu.default];return e?t.push(xc.default,tu.default):t.push(Qc.default,eu.default),t.push(ru.default),t}gn.default=mu;var Tn={},An={};Object.defineProperty(An,"__esModule",{value:!0});const fe=W,hu={message:({schemaCode:e})=>(0,fe.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,fe._)`{format: ${e}}`},$u={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:hu,code(e,t){const{gen:r,data:n,$data:a,schema:o,schemaCode:c,it:d}=e,{opts:l,errSchemaPath:u,schemaEnv:p,self:g}=d;if(!l.validateFormats)return;a?T():A();function T(){const E=r.scopeValue("formats",{ref:g.formats,code:l.code.formats}),S=r.const("fDef",(0,fe._)`${E}[${c}]`),_=r.let("fType"),m=r.let("format");r.if((0,fe._)`typeof ${S} == "object" && !(${S} instanceof RegExp)`,()=>r.assign(_,(0,fe._)`${S}.type || "string"`).assign(m,(0,fe._)`${S}.validate`),()=>r.assign(_,(0,fe._)`"string"`).assign(m,S)),e.fail$data((0,fe.or)($(),j()));function $(){return l.strictSchema===!1?fe.nil:(0,fe._)`${c} && !${m}`}function j(){const I=p.$async?(0,fe._)`(${S}.async ? await ${m}(${n}) : ${m}(${n}))`:(0,fe._)`${m}(${n})`,M=(0,fe._)`(typeof ${m} == "function" ? ${I} : ${m}.test(${n}))`;return(0,fe._)`${m} && ${m} !== true && ${_} === ${t} && !${M}`}}function A(){const E=g.formats[o];if(!E){$();return}if(E===!0)return;const[S,_,m]=j(E);S===t&&e.pass(I());function $(){if(l.strictSchema===!1){g.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function j(M){const w=M instanceof RegExp?(0,fe.regexpCode)(M):l.code.formats?(0,fe._)`${l.code.formats}${(0,fe.getProperty)(o)}`:void 0,R=r.scopeValue("formats",{key:o,ref:M,code:w});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,fe._)`${R}.validate`]:["string",M,R]}function I(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!p.$async)throw new Error("async format in sync schema");return(0,fe._)`await ${m}(${n})`}return typeof _=="function"?(0,fe._)`${m}(${n})`:(0,fe._)`${m}.test(${n})`}}}};An.default=$u;Object.defineProperty(Tn,"__esModule",{value:!0});const yu=An,gu=[yu.default];Tn.default=gu;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.contentVocabulary=Pt.metadataVocabulary=void 0;Pt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Pt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Sr,"__esModule",{value:!0});const vu=nn,_u=sn,bu=gn,wu=Tn,_a=Pt,Eu=[vu.default,_u.default,(0,bu.default)(),wu.default,_a.metadataVocabulary,_a.contentVocabulary];Sr.default=Eu;var In={},Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.dynamicAnchor=void 0;const Vr=W,Pu=we,ba=ge,Su=Ge,ju={keyword:"$dynamicAnchor",schemaType:"string",code:e=>ps(e,e.schema)};function ps(e,t){const{gen:r,it:n}=e;n.schemaEnv.root.dynamicAnchors[t]=!0;const a=(0,Vr._)`${Pu.default.dynamicAnchors}${(0,Vr.getProperty)(t)}`,o=n.errSchemaPath==="#"?n.validateName:Ou(e);r.if((0,Vr._)`!${a}`,()=>r.assign(a,o))}Rt.dynamicAnchor=ps;function Ou(e){const{schemaEnv:t,schema:r,self:n}=e.it,{root:a,baseId:o,localRefs:c,meta:d}=t.root,{schemaId:l}=n.opts,u=new ba.SchemaEnv({schema:r,schemaId:l,root:a,baseId:o,localRefs:c,meta:d});return ba.compileSchema.call(n,u),(0,Su.getValidate)(e,u)}Rt.default=ju;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.dynamicRef=void 0;const wa=W,Nu=we,Ea=Ge,Cu={keyword:"$dynamicRef",schemaType:"string",code:e=>ms(e,e.schema)};function ms(e,t){const{gen:r,keyword:n,it:a}=e;if(t[0]!=="#")throw new Error(`"${n}" only supports hash fragment reference`);const o=t.slice(1);if(a.allErrors)c();else{const l=r.let("valid",!1);c(l),e.ok(l)}function c(l){if(a.schemaEnv.root.dynamicAnchors[o]){const u=r.let("_v",(0,wa._)`${Nu.default.dynamicAnchors}${(0,wa.getProperty)(o)}`);r.if(u,d(u,l),d(a.validateName,l))}else d(a.validateName,l)()}function d(l,u){return u?()=>r.block(()=>{(0,Ea.callRef)(e,l),r.let(u,!0)}):()=>(0,Ea.callRef)(e,l)}}Tt.dynamicRef=ms;Tt.default=Cu;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});const Ru=Rt,Tu=Q,Au={keyword:"$recursiveAnchor",schemaType:"boolean",code(e){e.schema?(0,Ru.dynamicAnchor)(e,""):(0,Tu.checkStrictMode)(e.it,"$recursiveAnchor: false is ignored")}};kn.default=Au;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});const Iu=Tt,ku={keyword:"$recursiveRef",schemaType:"string",code:e=>(0,Iu.dynamicRef)(e,e.schema)};Dn.default=ku;Object.defineProperty(In,"__esModule",{value:!0});const Du=Rt,Mu=Tt,Vu=kn,zu=Dn,Fu=[Du.default,Mu.default,Vu.default,zu.default];In.default=Fu;var Mn={},Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});const Pa=jr,qu={keyword:"dependentRequired",type:"object",schemaType:"object",error:Pa.error,code:e=>(0,Pa.validatePropertyDeps)(e)};Vn.default=qu;var zn={};Object.defineProperty(zn,"__esModule",{value:!0});const Uu=jr,Lu={keyword:"dependentSchemas",type:"object",schemaType:"object",code:e=>(0,Uu.validateSchemaDeps)(e)};zn.default=Lu;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});const Ku=Q,Gu={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:e,parentSchema:t,it:r}){t.contains===void 0&&(0,Ku.checkStrictMode)(r,`"${e}" without "contains" is ignored`)}};Fn.default=Gu;Object.defineProperty(Mn,"__esModule",{value:!0});const Hu=Vn,Bu=zn,Ju=Fn,Wu=[Hu.default,Bu.default,Ju.default];Mn.default=Wu;var qn={},Un={};Object.defineProperty(Un,"__esModule",{value:!0});const Ye=W,Sa=Q,Yu=we,Xu={message:"must NOT have unevaluated properties",params:({params:e})=>(0,Ye._)`{unevaluatedProperty: ${e.unevaluatedProperty}}`},Zu={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:Xu,code(e){const{gen:t,schema:r,data:n,errsCount:a,it:o}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:c,props:d}=o;d instanceof Ye.Name?t.if((0,Ye._)`${d} !== true`,()=>t.forIn("key",n,g=>t.if(u(d,g),()=>l(g)))):d!==!0&&t.forIn("key",n,g=>d===void 0?l(g):t.if(p(d,g),()=>l(g))),o.props=!0,e.ok((0,Ye._)`${a} === ${Yu.default.errors}`);function l(g){if(r===!1){e.setParams({unevaluatedProperty:g}),e.error(),c||t.break();return}if(!(0,Sa.alwaysValidSchema)(o,r)){const T=t.name("valid");e.subschema({keyword:"unevaluatedProperties",dataProp:g,dataPropType:Sa.Type.Str},T),c||t.if((0,Ye.not)(T),()=>t.break())}}function u(g,T){return(0,Ye._)`!${g} || !${g}[${T}]`}function p(g,T){const A=[];for(const E in g)g[E]===!0&&A.push((0,Ye._)`${T} !== ${E}`);return(0,Ye.and)(...A)}}};Un.default=Zu;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});const it=W,ja=Q,Qu={message:({params:{len:e}})=>(0,it.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,it._)`{limit: ${e}}`},xu={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:Qu,code(e){const{gen:t,schema:r,data:n,it:a}=e,o=a.items||0;if(o===!0)return;const c=t.const("len",(0,it._)`${n}.length`);if(r===!1)e.setParams({len:o}),e.fail((0,it._)`${c} > ${o}`);else if(typeof r=="object"&&!(0,ja.alwaysValidSchema)(a,r)){const l=t.var("valid",(0,it._)`${c} <= ${o}`);t.if((0,it.not)(l),()=>d(l,o)),e.ok(l)}a.items=!0;function d(l,u){t.forRange("i",u,c,p=>{e.subschema({keyword:"unevaluatedItems",dataProp:p,dataPropType:ja.Type.Num},l),a.allErrors||t.if((0,it.not)(l),()=>t.break())})}}};Ln.default=xu;Object.defineProperty(qn,"__esModule",{value:!0});const el=Un,tl=Ln,rl=[el.default,tl.default];qn.default=rl;var Nr={},hs={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(hs);Object.defineProperty(Nr,"__esModule",{value:!0});const gt=W,Gr=hs,Oa=ge,nl=Q,al={message:({params:{discrError:e,tagName:t}})=>e===Gr.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,gt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},sl={keyword:"discriminator",type:"object",schemaType:"object",error:al,code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:o}=e,{oneOf:c}=a;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const d=n.propertyName;if(typeof d!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!c)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),u=t.const("tag",(0,gt._)`${r}${(0,gt.getProperty)(d)}`);t.if((0,gt._)`typeof ${u} == "string"`,()=>p(),()=>e.error(!1,{discrError:Gr.DiscrError.Tag,tag:u,tagName:d})),e.ok(l);function p(){const A=T();t.if(!1);for(const E in A)t.elseIf((0,gt._)`${u} === ${E}`),t.assign(l,g(A[E]));t.else(),e.error(!1,{discrError:Gr.DiscrError.Mapping,tag:u,tagName:d}),t.endIf()}function g(A){const E=t.name("valid"),S=e.subschema({keyword:"oneOf",schemaProp:A},E);return e.mergeEvaluated(S,gt.Name),E}function T(){var A;const E={},S=m(a);let _=!0;for(let I=0;I<c.length;I++){let M=c[I];M!=null&&M.$ref&&!(0,nl.schemaHasRulesButRef)(M,o.self.RULES)&&(M=Oa.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,M==null?void 0:M.$ref),M instanceof Oa.SchemaEnv&&(M=M.schema));const w=(A=M==null?void 0:M.properties)===null||A===void 0?void 0:A[d];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${d}"`);_=_&&(S||m(M)),$(w,I)}if(!_)throw new Error(`discriminator: "${d}" must be required`);return E;function m({required:I}){return Array.isArray(I)&&I.includes(d)}function $(I,M){if(I.const)j(I.const,M);else if(I.enum)for(const w of I.enum)j(w,M);else throw new Error(`discriminator: "properties/${d}" must have "const" or "enum"`)}function j(I,M){if(typeof I!="string"||I in E)throw new Error(`discriminator: "${d}" values must be unique strings`);E[I]=M}}}};Nr.default=sl;var Kn={};const ol="https://json-schema.org/draft/2019-09/schema",il="https://json-schema.org/draft/2019-09/schema",cl={"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},ul=!0,ll="Core and Validation specifications meta-schema",dl=[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],fl=["object","boolean"],pl={definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}},ml={$schema:ol,$id:il,$vocabulary:cl,$recursiveAnchor:ul,title:ll,allOf:dl,type:fl,properties:pl},hl="https://json-schema.org/draft/2019-09/schema",$l="https://json-schema.org/draft/2019-09/meta/applicator",yl={"https://json-schema.org/draft/2019-09/vocab/applicator":!0},gl=!0,vl="Applicator vocabulary meta-schema",_l=["object","boolean"],bl={additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},wl={schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}},El={$schema:hl,$id:$l,$vocabulary:yl,$recursiveAnchor:gl,title:vl,type:_l,properties:bl,$defs:wl},Pl="https://json-schema.org/draft/2019-09/schema",Sl="https://json-schema.org/draft/2019-09/meta/content",jl={"https://json-schema.org/draft/2019-09/vocab/content":!0},Ol=!0,Nl="Content vocabulary meta-schema",Cl=["object","boolean"],Rl={contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}},Tl={$schema:Pl,$id:Sl,$vocabulary:jl,$recursiveAnchor:Ol,title:Nl,type:Cl,properties:Rl},Al="https://json-schema.org/draft/2019-09/schema",Il="https://json-schema.org/draft/2019-09/meta/core",kl={"https://json-schema.org/draft/2019-09/vocab/core":!0},Dl=!0,Ml="Core vocabulary meta-schema",Vl=["object","boolean"],zl={$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}},Fl={$schema:Al,$id:Il,$vocabulary:kl,$recursiveAnchor:Dl,title:Ml,type:Vl,properties:zl},ql="https://json-schema.org/draft/2019-09/schema",Ul="https://json-schema.org/draft/2019-09/meta/format",Ll={"https://json-schema.org/draft/2019-09/vocab/format":!0},Kl=!0,Gl="Format vocabulary meta-schema",Hl=["object","boolean"],Bl={format:{type:"string"}},Jl={$schema:ql,$id:Ul,$vocabulary:Ll,$recursiveAnchor:Kl,title:Gl,type:Hl,properties:Bl},Wl="https://json-schema.org/draft/2019-09/schema",Yl="https://json-schema.org/draft/2019-09/meta/meta-data",Xl={"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},Zl=!0,Ql="Meta-data vocabulary meta-schema",xl=["object","boolean"],ed={title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}},td={$schema:Wl,$id:Yl,$vocabulary:Xl,$recursiveAnchor:Zl,title:Ql,type:xl,properties:ed},rd="https://json-schema.org/draft/2019-09/schema",nd="https://json-schema.org/draft/2019-09/meta/validation",ad={"https://json-schema.org/draft/2019-09/vocab/validation":!0},sd=!0,od="Validation vocabulary meta-schema",id=["object","boolean"],cd={multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},ud={nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ld={$schema:rd,$id:nd,$vocabulary:ad,$recursiveAnchor:sd,title:od,type:id,properties:cd,$defs:ud};Object.defineProperty(Kn,"__esModule",{value:!0});const dd=ml,fd=El,pd=Tl,md=Fl,hd=Jl,$d=td,yd=ld,gd=["/properties"];function vd(e){return[dd,fd,pd,md,t(this,hd),$d,t(this,yd)].forEach(r=>this.addMetaSchema(r,void 0,!1)),this;function t(r,n){return e?r.$dataMetaSchema(n,gd):n}}Kn.default=vd;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Yr,n=Sr,a=In,o=Mn,c=qn,d=Nr,l=Kn,u="https://json-schema.org/draft/2019-09/schema";class p extends r.default{constructor(_={}){super({..._,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(a.default),n.default.forEach(_=>this.addVocabulary(_)),this.addVocabulary(o.default),this.addVocabulary(c.default),this.opts.discriminator&&this.addKeyword(d.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:_,meta:m}=this.opts;m&&(l.default.call(this,_),this.refs["http://json-schema.org/schema"]=u)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}e.exports=t=p,Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var g=Pe;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return g.KeywordCxt}});var T=W;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return T._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return T.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return T.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return T.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return T.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return T.CodeGen}});var A=jt;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return A.default}});var E=Ot;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return E.default}})})(zr,zr.exports);var _d=zr.exports;const bd=br(_d);var Hr={exports:{}},$s={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(z,q){return{validate:z,compare:q}}e.fullFormats={date:t(o,c),time:t(l,u),"date-time":t(g,T),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:S,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:k,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:m,int32:{type:"number",validate:I},int64:{type:"number",validate:M},float:{type:"number",validate:w},double:{type:"number",validate:w},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,c),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,T),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function r(z){return z%4===0&&(z%100!==0||z%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(z){const q=n.exec(z);if(!q)return!1;const X=+q[1],H=+q[2],ue=+q[3];return H>=1&&H<=12&&ue>=1&&ue<=(H===2&&r(X)?29:a[H])}function c(z,q){if(z&&q)return z>q?1:z<q?-1:0}const d=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(z,q){const X=d.exec(z);if(!X)return!1;const H=+X[1],ue=+X[2],re=+X[3],ve=X[5];return(H<=23&&ue<=59&&re<=59||H===23&&ue===59&&re===60)&&(!q||ve!=="")}function u(z,q){if(!(z&&q))return;const X=d.exec(z),H=d.exec(q);if(X&&H)return z=X[1]+X[2]+X[3]+(X[4]||""),q=H[1]+H[2]+H[3]+(H[4]||""),z>q?1:z<q?-1:0}const p=/t|\s/i;function g(z){const q=z.split(p);return q.length===2&&o(q[0])&&l(q[1],!0)}function T(z,q){if(!(z&&q))return;const[X,H]=z.split(p),[ue,re]=q.split(p),ve=c(X,ue);if(ve!==void 0)return ve||u(H,re)}const A=/\/|:/,E=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function S(z){return A.test(z)&&E.test(z)}const _=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function m(z){return _.lastIndex=0,_.test(z)}const $=-(2**31),j=2**31-1;function I(z){return Number.isInteger(z)&&z<=j&&z>=$}function M(z){return Number.isInteger(z)}function w(){return!0}const R=/[^\\]\\Z/;function k(z){if(R.test(z))return!1;try{return new RegExp(z),!0}catch{return!1}}})($s);var ys={},Br={exports:{}};const wd="http://json-schema.org/draft-07/schema#",Ed="http://json-schema.org/draft-07/schema#",Pd="Core schema meta-schema",Sd={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},jd=["object","boolean"],Od={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Nd={$schema:wd,$id:Ed,title:Pd,definitions:Sd,type:jd,properties:Od,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Yr,n=Sr,a=Nr,o=Nd,c=["/properties"],d="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(E=>this.addVocabulary(E)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const E=this.opts.$data?this.$dataMetaSchema(o,c):o;this.addMetaSchema(E,d,!1),this.refs["http://json-schema.org/schema"]=d}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(d)?d:void 0)}}e.exports=t=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var u=Pe;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var p=W;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return p._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return p.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return p.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return p.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return p.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return p.CodeGen}});var g=jt;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return g.default}});var T=Ot;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return T.default}})})(Br,Br.exports);var Gn=Br.exports;const xd=br(Gn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=Gn,r=W,n=r.operators,a={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:d,schemaCode:l})=>r.str`should be ${a[d].okStr} ${l}`,params:({keyword:d,schemaCode:l})=>r._`{comparison: ${a[d].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:o,code(d){const{gen:l,data:u,schemaCode:p,keyword:g,it:T}=d,{opts:A,self:E}=T;if(!A.validateFormats)return;const S=new t.KeywordCxt(T,E.RULES.all.format.definition,"format");S.$data?_():m();function _(){const j=l.scopeValue("formats",{ref:E.formats,code:A.code.formats}),I=l.const("fmt",r._`${j}[${S.schemaCode}]`);d.fail$data(r.or(r._`typeof ${I} != "object"`,r._`${I} instanceof RegExp`,r._`typeof ${I}.compare != "function"`,$(I)))}function m(){const j=S.schema,I=E.formats[j];if(!I||I===!0)return;if(typeof I!="object"||I instanceof RegExp||typeof I.compare!="function")throw new Error(`"${g}": format "${j}" does not define "compare" function`);const M=l.scopeValue("formats",{key:j,ref:I,code:A.code.formats?r._`${A.code.formats}${r.getProperty(j)}`:void 0});d.fail$data($(M))}function $(j){return r._`${j}.compare(${u}, ${p}) ${a[g].fail} 0`}},dependencies:["format"]};const c=d=>(d.addKeyword(e.formatLimitDefinition),d);e.default=c})(ys);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=$s,n=ys,a=W,o=new a.Name("fullFormats"),c=new a.Name("fastFormats"),d=(u,p={keywords:!0})=>{if(Array.isArray(p))return l(u,p,r.fullFormats,o),u;const[g,T]=p.mode==="fast"?[r.fastFormats,c]:[r.fullFormats,o],A=p.formats||r.formatNames;return l(u,A,g,T),p.keywords&&n.default(u),u};d.get=(u,p="full")=>{const T=(p==="fast"?r.fastFormats:r.fullFormats)[u];if(!T)throw new Error(`Unknown format "${u}"`);return T};function l(u,p,g,T){var A,E;(A=(E=u.opts.code).formats)!==null&&A!==void 0||(E.formats=a._`require("ajv-formats/dist/formats").${T}`);for(const S of p)u.addFormat(S,g[S])}e.exports=t=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d})(Hr,Hr.exports);var Cd=Hr.exports;const Rd=br(Cd);var Jr={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=Gn,n=W,a=Et,o=Pe,c=St,d=we,l="errorMessage",u=new r.Name("emUsed"),p={required:"missingProperty",dependencies:"property",dependentRequired:"property"},g=/\$\{[^}]+\}/,T=/\$\{([^}]+)\}/g,A=/^""\s*\+\s*|\s*\+\s*""$/g;function E(_){return{keyword:l,schemaType:["string","object"],post:!0,code(m){const{gen:$,data:j,schema:I,schemaValue:M,it:w}=m;if(w.createErrors===!1)return;const R=I,k=n.strConcat(d.default.instancePath,w.errorPath);$.if(r._`${d.default.errors} > 0`,()=>{if(typeof R=="object"){const[v,s]=q(R);s&&X(s),v&&H(v),ue(z(R))}const P=typeof R=="string"?R:R._;P&&re(P),_.keepErrors||ve()});function z({properties:P,items:v}){const s={};if(P){s.props={};for(const f in P)s.props[f]=[]}if(v){s.items={};for(let f=0;f<v.length;f++)s.items[f]=[]}return s}function q(P){let v,s;for(const f in P){if(f==="properties"||f==="items")continue;const O=P[f];if(typeof O=="object"){v||(v={});const V=v[f]={};for(const D in O)V[D]=[]}else s||(s={}),s[f]=[]}return[v,s]}function X(P){const v=$.const("emErrors",r.stringify(P)),s=$.const("templates",Ae(P,I));$.forOf("err",d.default.vErrors,D=>$.if(Te(D,v),()=>$.code(r._`${v}[${D}.keyword].push(${D})`).assign(r._`${D}.${u}`,!0)));const{singleError:f}=_;if(f){const D=$.let("message",r._`""`),U=$.let("paramsErrors",r._`[]`);O(B=>{$.if(D,()=>$.code(r._`${D} += ${typeof f=="string"?f:";"}`)),$.code(r._`${D} += ${V(B)}`),$.assign(U,r._`${U}.concat(${v}[${B}])`)}),c.reportError(m,{message:D,params:r._`{errors: ${U}}`})}else O(D=>c.reportError(m,{message:V(D),params:r._`{errors: ${v}[${D}]}`}));function O(D){$.forIn("key",v,U=>$.if(r._`${v}[${U}].length`,()=>D(U)))}function V(D){return r._`${D} in ${s} ? ${s}[${D}]() : ${M}[${D}]`}}function H(P){const v=$.const("emErrors",r.stringify(P)),s=[];for(const U in P)s.push([U,Ae(P[U],I[U])]);const f=$.const("templates",$.object(...s)),O=$.scopeValue("obj",{ref:p,code:r.stringify(p)}),V=$.let("emPropParams"),D=$.let("emParamsErrors");$.forOf("err",d.default.vErrors,U=>$.if(Te(U,v),()=>{$.assign(V,r._`${O}[${U}.keyword]`),$.assign(D,r._`${v}[${U}.keyword][${U}.params[${V}]]`),$.if(D,()=>$.code(r._`${D}.push(${U})`).assign(r._`${U}.${u}`,!0))})),$.forIn("key",v,U=>$.forIn("keyProp",r._`${v}[${U}]`,B=>{$.assign(D,r._`${v}[${U}][${B}]`),$.if(r._`${D}.length`,()=>{const te=$.const("tmpl",r._`${f}[${U}] && ${f}[${U}][${B}]`);c.reportError(m,{message:r._`${te} ? ${te}() : ${M}[${U}][${B}]`,params:r._`{errors: ${D}}`})})}))}function ue(P){const{props:v,items:s}=P;if(!v&&!s)return;const f=r._`typeof ${j} == "object"`,O=r._`Array.isArray(${j})`,V=$.let("emErrors");let D,U;const B=$.let("templates");v&&s?(D=$.let("emChildKwd"),$.if(f),$.if(O,()=>{te(s,I.items),$.assign(D,r.str`items`)},()=>{te(v,I.properties),$.assign(D,r.str`properties`)}),U=r._`[${D}]`):s?($.if(O),te(s,I.items),U=r._`.items`):v&&($.if(n.and(f,n.not(O))),te(v,I.properties),U=r._`.properties`),$.forOf("err",d.default.vErrors,oe=>He(oe,V,Ie=>$.code(r._`${V}[${Ie}].push(${oe})`).assign(r._`${oe}.${u}`,!0))),$.forIn("key",V,oe=>$.if(r._`${V}[${oe}].length`,()=>{c.reportError(m,{message:r._`${oe} in ${B} ? ${B}[${oe}]() : ${M}${U}[${oe}]`,params:r._`{errors: ${V}[${oe}]}`}),$.assign(r._`${d.default.vErrors}[${d.default.errors}-1].instancePath`,r._`${k} + "/" + ${oe}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),$.endIf();function te(oe,Ie){$.assign(V,r.stringify(oe)),$.assign(B,Ae(oe,Ie))}}function re(P){const v=$.const("emErrs",r._`[]`);$.forOf("err",d.default.vErrors,s=>$.if(Qe(s),()=>$.code(r._`${v}.push(${s})`).assign(r._`${s}.${u}`,!0))),$.if(r._`${v}.length`,()=>c.reportError(m,{message:F(P),params:r._`{errors: ${v}}`}))}function ve(){const P=$.const("emErrs",r._`[]`);$.forOf("err",d.default.vErrors,v=>$.if(r._`!${v}.${u}`,()=>$.code(r._`${P}.push(${v})`))),$.assign(d.default.vErrors,P).assign(d.default.errors,r._`${P}.length`)}function Te(P,v){return n.and(r._`${P}.keyword !== ${l}`,r._`!${P}.${u}`,r._`${P}.instancePath === ${k}`,r._`${P}.keyword in ${v}`,r._`${P}.schemaPath.indexOf(${w.errSchemaPath}) === 0`,r._`/^\\/[^\\/]*$/.test(${P}.schemaPath.slice(${w.errSchemaPath.length}))`)}function He(P,v,s){$.if(n.and(r._`${P}.keyword !== ${l}`,r._`!${P}.${u}`,r._`${P}.instancePath.indexOf(${k}) === 0`),()=>{const f=$.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:r._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),O=$.const("emMatches",r._`${f}.exec(${P}.instancePath.slice(${k}.length))`),V=$.const("emChild",r._`${O} && ${O}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);$.if(r._`${V} !== undefined && ${V} in ${v}`,()=>s(V))})}function Qe(P){return n.and(r._`${P}.keyword !== ${l}`,r._`!${P}.${u}`,n.or(r._`${P}.instancePath === ${k}`,n.and(r._`${P}.instancePath.indexOf(${k}) === 0`,r._`${P}.instancePath[${k}.length] === "/"`)),r._`${P}.schemaPath.indexOf(${w.errSchemaPath}) === 0`,r._`${P}.schemaPath[${w.errSchemaPath}.length] === "/"`)}function Ae(P,v){const s=[];for(const f in P){const O=v[f];g.test(O)&&s.push([f,b(O)])}return $.object(...s)}function F(P){return g.test(P)?new a._Code(a.safeStringify(P).replace(T,(v,s)=>`" + JSON.stringify(${o.getData(s,w)}) + "`).replace(A,"")):r.stringify(P)}function b(P){return r._`function(){return ${F(P)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const S=(_,m={})=>{if(!_.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(_.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return _.addKeyword(E(m))};t.default=S,e.exports=S,e.exports.default=S})(Jr,Jr.exports);var Td=Jr.exports;const Ad=br(Td),gs={$id:"https://json-layout.github.io/normalized-layout-keyword",$defs:{"normalized-layout":{title:"normalized layout",type:"object",unevaluatedProperties:!1,oneOf:[{$ref:"#/$defs/switch-struct"},{$ref:"#/$defs/base-comp-object"}]},"switch-struct":{type:"object",required:["switch"],additionalProperties:!1,properties:{switch:{type:"array",items:{$ref:"#/$defs/base-comp-object"}}}},"base-comp-object":{type:"object",required:["comp"],properties:{comp:{type:"string"},if:{$ref:"#/$defs/expression"},options:{$ref:"#/$defs/state-node-options-base"},getOptions:{$ref:"#/$defs/expression"},defaultData:{},getDefaultData:{$ref:"#/$defs/expression"},constData:{},getConstData:{$ref:"#/$defs/expression"},transformData:{$ref:"#/$defs/expression"},nullable:{type:"boolean"},help:{type:"string"},cols:{$ref:"#/$defs/cols-obj"},props:{$ref:"#/$defs/state-node-props-lib"},getProps:{$ref:"#/$defs/expression"},slots:{$ref:"#/$defs/slots"}}},"composite-comp-object":{allOf:[{$ref:"#/$defs/base-comp-object"},{type:"object",required:["children","comp"],properties:{comp:{type:"string"},title:{type:["string","null"]},subtitle:{type:["string","null"]},children:{$ref:"#/$defs/children"}}}]},"slot-comp-object":{allOf:[{$ref:"#/$defs/base-comp-object"},{type:"object",required:["comp","slots"],properties:{comp:{type:"string",const:"slot"}}}]},"simple-comp-object":{allOf:[{$ref:"#/$defs/base-comp-object"},{type:"object",required:["comp"],properties:{comp:{type:"string"},label:{type:"string"},hint:{type:["string","null"]}}}]},"focusable-comp-object":{allOf:[{$ref:"#/$defs/base-comp-object"},{type:"object",required:["comp"],properties:{comp:{type:"string"},autofocus:{type:"boolean"}}}]},"items-based-comp-object":{allOf:[{$ref:"#/$defs/base-comp-object"},{type:"object",required:["comp"],properties:{comp:{type:"string"},items:{$ref:"#/$defs/select-items"},getItems:{$ref:"#/$defs/get-items"}}}]},"multiple-compat-comp-object":{allOf:[{$ref:"#/$defs/base-comp-object"},{type:"object",required:["comp"],properties:{comp:{type:"string"},multiple:{type:"boolean"},separator:{type:"string"}}}]},"child-ref":{type:"object",required:["key"],additionalProperties:!1,properties:{key:{type:["string","integer"]},cols:{$ref:"#/$defs/cols-obj"},if:{$ref:"#/$defs/expression"},slots:{$ref:"#/$defs/slots"}}},"child-composite":{type:"object",required:["key","children"],additionalProperties:!1,properties:{key:{type:["string","integer"]},cols:{$ref:"#/$defs/cols-obj"},comp:{type:"string"},title:{type:"string"},subtitle:{type:"string"},children:{$ref:"#/$defs/children"},if:{$ref:"#/$defs/expression"},slots:{$ref:"#/$defs/slots"}}},"child-slot":{type:"object",required:["key","comp","slots"],additionalProperties:!1,properties:{key:{type:["string","integer"]},cols:{$ref:"#/$defs/cols-obj"},comp:{const:"slot"},if:{$ref:"#/$defs/expression"},slots:{$ref:"#/$defs/slots"}}},child:{title:"Child",type:"object",oneOf:[{$ref:"#/$defs/child-ref"},{$ref:"#/$defs/child-composite"},{$ref:"#/$defs/child-slot"}]},children:{type:"array",items:{$ref:"#/$defs/child"}},"select-items":{type:"array",items:{$ref:"#/$defs/select-item"}},"select-item":{type:"object",required:["title","key","value"],properties:{title:{type:"string"},key:{type:"string"},value:{},icon:{type:"string"}}},"get-items":{type:"object",allOf:[{properties:{returnObjects:{type:"boolean",readOnly:!0},itemsResults:{$ref:"#/$defs/expression"},itemTitle:{$ref:"#/$defs/expression"},itemKey:{$ref:"#/$defs/expression"},itemValue:{$ref:"#/$defs/expression"},itemIcon:{$ref:"#/$defs/expression"},immutable:{type:"boolean"}}},{oneOf:[{$ref:"#/$defs/expression"},{$ref:"#/$defs/get-items-fetch"}]}]},"get-items-fetch":{type:"object",required:["url"],properties:{url:{$ref:"#/$defs/expression"},qSearchParam:{type:"string"},searchParams:{type:"object",patternProperties:{".*":{$ref:"#/$defs/expression"}}}}},expression:{type:"object",required:["type","expr","pure","dataAlias"],properties:{type:{type:"string",enum:["js-fn","js-eval","js-tpl"]},expr:{type:"string"},pure:{type:"boolean"},dataAlias:{type:"string"},ref:{type:"integer",readOnly:!0}}},"cols-obj":{type:"object",additionalProperties:!1,required:["xs"],properties:{xs:{$ref:"#/$defs/cols",default:12},sm:{$ref:"#/$defs/cols"},md:{$ref:"#/$defs/cols"},lg:{$ref:"#/$defs/cols"},xl:{$ref:"#/$defs/cols"},xxl:{$ref:"#/$defs/cols"}}},cols:{type:"integer",minimum:0,maximum:12},slot:{oneOf:[{type:"object",additionalProperties:!1,required:["text"],properties:{text:{type:"string"}}},{type:"object",additionalProperties:!1,required:["markdown"],properties:{markdown:{type:"string"}}},{type:"object",additionalProperties:!1,required:["name"],properties:{name:{type:"string"}}}]},slots:{type:"object",allOf:[{$ref:"#/$defs/state-node-slots-lib"},{properties:{before:{$ref:"#/$defs/slot"},after:{$ref:"#/$defs/slot"},component:{$ref:"#/$defs/slot"}}}]},"state-node-options-base":{type:"object",allOf:[{$ref:"#/$defs/state-node-options-base-lib"},{properties:{readOnly:{type:"boolean",default:!1},summary:{type:"boolean",default:!1},titleDepth:{type:"integer",minimum:1,maximum:6,default:2},density:{type:"string",enum:["default","comfortable","compact"],default:"default"},indent:{type:["boolean","integer"]},removeAdditional:{description:"true is the same as 'unknown', false is the same as 'none'",default:"error",oneOf:[{type:"boolean"},{type:"string",enum:["unknown","error","none"]}]},validateOn:{type:"string",enum:["input","blur","submit"],default:"input"},updateOn:{type:"string",enum:["input","blur"],default:"input"},debounceInputMs:{type:"integer",minimum:0,default:300},initialValidation:{type:"string",enum:["never","always","withData"],default:"withData"},defaultOn:{type:"string",enum:["missing","empty","never"],default:"empty"},autofocus:{type:"boolean",default:!1},readOnlyPropertiesMode:{type:"string",enum:["remove","hide","show"],default:"show"}}}]},"state-node-options-base-lib":{type:"object",patternProperties:{".*":{}}},"state-node-props-lib":{type:"object",patternProperties:{".*":{}}},"state-node-slots-lib":{type:"object",patternProperties:{".*":{$ref:"#/$defs/slot"}}}}},ef=[{name:"none"},{name:"slot"},{name:"section",composite:!0},{name:"tabs",composite:!0},{name:"vertical-tabs",composite:!0},{name:"expansion-panels",composite:!0},{name:"stepper",composite:!0},{name:"card",composite:!0},{name:"list",schema:{required:["listEditMode","listActions"],properties:{title:{type:"string"},listEditMode:{type:"string",enum:["inline","inline-single","menu","dialog"]},listActions:{type:"array",items:{type:"string",enum:["add","edit","delete","sort","duplicate"]}},itemTitle:{$ref:"https://json-layout.github.io/normalized-layout-keyword#/$defs/expression"},itemSubtitle:{$ref:"https://json-layout.github.io/normalized-layout-keyword#/$defs/expression"},indexed:{type:"array",items:{type:"string"}},messages:{type:"object",additionalProperties:!1,properties:{addItem:{type:"string"},delete:{type:"string"},edit:{type:"string"},duplicate:{type:"string"},sort:{type:"string"}}}}}},{name:"text-field",shouldDebounce:!0,focusable:!0,emitsBlur:!0,schema:{properties:{placeholder:{type:"string"}}}},{name:"textarea",shouldDebounce:!0,focusable:!0,emitsBlur:!0,schema:{properties:{placeholder:{type:"string"}}}},{name:"number-field",shouldDebounce:!0,focusable:!0,emitsBlur:!0,schema:{properties:{step:{type:"number"},min:{type:"number"},max:{type:"number"},placeholder:{type:"string"}}}},{name:"checkbox"},{name:"switch"},{name:"slider",schema:{properties:{step:{type:"number"},min:{type:"number"},max:{type:"number"}}}},{name:"date-picker",schema:{properties:{min:{type:"string",format:"date"},max:{type:"string",format:"date"},format:{type:"string",enum:["date","date-time"],default:"date"}}}},{name:"date-time-picker",schema:{properties:{min:{type:"string",format:"date-time"},max:{type:"string",format:"date-time"}}}},{name:"time-picker",schema:{properties:{min:{type:"string",format:"time"},max:{type:"string",format:"time"}}}},{name:"color-picker"},{name:"select",focusable:!0,itemsBased:!0,multipleCompat:!0},{name:"autocomplete",focusable:!0,itemsBased:!0,multipleCompat:!0},{name:"combobox",focusable:!0,itemsBased:!0,multipleCompat:!0},{name:"number-combobox",focusable:!0,itemsBased:!0,multipleCompat:!0,schema:{properties:{step:{type:"number"},min:{type:"number"},max:{type:"number"}}}},{name:"checkbox-group",itemsBased:!0,multipleCompat:!0},{name:"switch-group",itemsBased:!0,multipleCompat:!0},{name:"radio-group",itemsBased:!0},{name:"file-input",focusable:!0,multipleCompat:!0,isFileInput:!0,schema:{properties:{accept:{type:"string"},placeholder:{type:"string"}}}},{name:"one-of-select",schema:{properties:{emptyData:{type:"boolean"}}}}];function Id(e){const t={type:"object",title:e.name,$id:`https://json-layout.github.io/component/${e.name}#`,unevaluatedProperties:!1,allOf:[{properties:{comp:{const:e.name}}},{$ref:"https://json-layout.github.io/normalized-layout-keyword#/$defs/base-comp-object"}]};return e.composite?t.allOf.push({$ref:"https://json-layout.github.io/normalized-layout-keyword#/$defs/composite-comp-object"}):t.allOf.push({$ref:"https://json-layout.github.io/normalized-layout-keyword#/$defs/simple-comp-object"}),e.focusable&&t.allOf.push({$ref:"https://json-layout.github.io/normalized-layout-keyword#/$defs/focusable-comp-object"}),e.itemsBased&&t.allOf.push({$ref:"https://json-layout.github.io/normalized-layout-keyword#/$defs/items-based-comp-object"}),e.multipleCompat&&t.allOf.push({$ref:"https://json-layout.github.io/normalized-layout-keyword#/$defs/multiple-compat-comp-object"}),e.schema&&t.allOf.push(e.schema),t}const kd=bd,ut=new kd({code:{source:!0,esm:!0},discriminator:!0,allowMatchingProperties:!0,allowUnionTypes:!0,allErrors:!0});Rd.default(ut);Ad.default(ut);ut.addSchema(ka);ut.addSchema(gs);const ir={};function tf(e){if(ir[e.name])return ir[e.name];const t=Id(e);return ir[e.name]=ut.compile(t),ir[e.name]}const rf=ut.getSchema(ka.$id);function nf(e){return typeof e=="string"}function af(e){return typeof e=="object"&&"switch"in e}function sf(e){return Array.isArray(e)}function of(e){return typeof e!="string"&&"children"in e}function cf(e){return typeof e!="string"&&("text"in e||"markdown"in e||"name"in e)}function uf(e){return typeof e=="object"&&!Array.isArray(e)}function lf(e){return typeof e=="string"||!!e.expr}function df(e){return typeof e=="object"}function ff(e){return typeof e=="object"&&!!e.url}function pf(e){return typeof e=="object"&&!!e.markdown}function mf(e){return typeof e=="object"&&!!e.text}function hf(e){return typeof e=="object"&&!!e.name}const $f=ut.getSchema(gs.$id);function Dd(e){return typeof e=="object"&&"switch"in e}function yf(e){return!Dd(e)}function gf(e){return"comp"in e&&"children"in e}function vf(e){return"comp"in e&&e.comp==="slot"}function _f(e,t){var r;return!!((r=t[e.comp])!=null&&r.composite)}function bf(e){return e.comp==="list"}function wf(e,t){var r;return!!((r=t[e.comp])!=null&&r.focusable)}function Ef(e,t){var r;return!!((r=t[e.comp])!=null&&r.itemsBased)}function Pf(e){return!!e.expr}function Sf(e){return!!e.url}function jf(e){return!!e.text}function Of(e){return!!e.markdown}function Nf(e){return!!e.name}const Cr=typeof window<"u",Cf=Cr&&"IntersectionObserver"in window,Rf=Cr&&"EyeDropper"in window;function vs(e,t,r){const n=t.length-1;if(n<0)return e===void 0?r:e;for(let a=0;a<n;a++){if(e==null)return r;e=e[t[a]]}return e==null||e[t[n]]===void 0?r:e[t[n]]}function Md(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const r=Object.keys(e);return r.length!==Object.keys(t).length?!1:r.every(n=>Md(e[n],t[n]))}function Vd(e,t,r){return e==null||!t||typeof t!="string"?r:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),vs(e,t.split("."),r))}function Tf(e,t,r){if(t===!0)return e===void 0?r:e;if(t==null||typeof t=="boolean")return r;if(e!==Object(e)){if(typeof t!="function")return r;const a=t(e,r);return typeof a>"u"?r:a}if(typeof t=="string")return Vd(e,t,r);if(Array.isArray(t))return vs(e,t,r);if(typeof t!="function")return r;const n=t(e,r);return typeof n>"u"?r:n}function Af(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(r,n)=>t+n)}function If(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function Na(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function zd(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const kf=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),Df=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function Mf(e){return Object.keys(e)}function Vf(e,t){return t.every(r=>e.hasOwnProperty(r))}function zf(e,t){const r={},n=new Set(Object.keys(e));for(const a of t)n.has(a)&&(r[a]=e[a]);return r}function Ca(e,t,r){const n=Object.create(null),a=Object.create(null);for(const o in e)t.some(c=>c instanceof RegExp?c.test(o):c===o)&&!(r!=null&&r.some(c=>c===o))?n[o]=e[o]:a[o]=e[o];return[n,a]}function Fd(e,t){const r={...e};return t.forEach(n=>delete r[n]),r}function Ff(e,t){const r={};return t.forEach(n=>r[n]=e[n]),r}const _s=/^on[^a-z]/,qf=e=>_s.test(e),qd=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],Ud=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function Uf(e){return e.isComposing&&Ud.includes(e.key)}function Lf(e){const[t,r]=Ca(e,[_s]),n=Fd(t,qd),[a,o]=Ca(r,["class","style","id",/^data-/]);return Object.assign(a,t),Object.assign(o,n),[a,o]}function Kf(e){return e==null?[]:Array.isArray(e)?e:[e]}function Gf(e,t){let r=0;const n=function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];clearTimeout(r),r=setTimeout(()=>e(...o),Kt(t))};return n.clear=()=>{clearTimeout(r)},n.immediate=e,n}function Hf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(r,e))}function Bf(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function Jf(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+r.repeat(Math.max(0,t-e.length))}function Wf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const r=[];let n=0;for(;n<e.length;)r.push(e.substr(n,t)),n+=t;return r}function Yf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const r=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let n=-1;for(;Math.abs(e)>=t&&n<r.length-1;)e/=t,++n;return`${e.toFixed(1)} ${r[n]}B`}function vt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const n={};for(const a in e)n[a]=e[a];for(const a in t){const o=e[a],c=t[a];if(Na(o)&&Na(c)){n[a]=vt(o,c,r);continue}if(Array.isArray(o)&&Array.isArray(c)&&r){n[a]=r(o,c);continue}n[a]=c}return n}function Ld(e){return e.map(t=>t.type===Ra?Ld(t.children):t).flat()}function bt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(bt.cache.has(e))return bt.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return bt.cache.set(e,t),t}bt.cache=new Map;function cr(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(r=>cr(e,r)).flat(1);if(t.suspense)return cr(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(r=>cr(e,r)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return cr(e,t.component.subTree).flat(1)}return[]}function Xf(e){return"touches"in e?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}function Zf(e){const t=zs({}),r=mr(e);return Aa(()=>{for(const n in r.value)t[n]=r.value[n]},{flush:"sync"}),Fs(t)}function Qf(e,t){return e.includes(t)}function xf(e){return e[2].toLowerCase()+e.slice(3)}const ep=()=>[Function,Array];function tp(e,t){return t="on"+qs(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function rp(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(Array.isArray(e))for(const a of e)a(...r);else typeof e=="function"&&e(...r)}function Kd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(n=>`${n}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(r)]}function Gd(e,t,r){let n,a=e.indexOf(document.activeElement);const o=t==="next"?1:-1;do a+=o,n=e[a];while((!n||n.offsetParent==null||!((r==null?void 0:r(n))??!0))&&a<e.length&&a>=0);return n}function Hd(e,t){var n,a,o,c;const r=Kd(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((n=r[0])==null||n.focus());else if(t==="first")(a=r[0])==null||a.focus();else if(t==="last")(o=r.at(-1))==null||o.focus();else if(typeof t=="number")(c=r[t])==null||c.focus();else{const d=Gd(r,t);d?d.focus():Hd(e,t==="next"?"first":"last")}}function np(){}function ap(e,t){if(!(Cr&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function Bd(e){return e.some(t=>Ms(t)?t.type===Vs?!1:t.type!==Ra||Bd(t.children):!0)?e:null}function sp(e,t){if(!Cr||e===0)return t(),()=>{};const r=window.setTimeout(t,e);return()=>window.clearTimeout(r)}function op(e,t){const r=e.clientX,n=e.clientY,a=t.getBoundingClientRect(),o=a.left,c=a.top,d=a.right,l=a.bottom;return r>=o&&r<=d&&n>=c&&n<=l}function ip(){const e=Ta(),t=r=>{e.value=r};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:r=>e.value=r}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>zd(e.value)}),t}function Rr(e,t){const r=Us();if(!r)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return r}function cp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Rr(e).type;return bt((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let bs=0,pr=new WeakMap;function Jd(){const e=Rr("getUid");if(pr.has(e))return pr.get(e);{const t=bs++;return pr.set(e,t),t}}Jd.reset=()=>{bs=0,pr=new WeakMap};function Wd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rr("injectSelf");const{provides:r}=t;if(r&&e in r)return r[e]}const _r=Symbol.for("vuetify:defaults");function ws(){const e=Wr(_r);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function up(e,t){const r=ws(),n=Ls(e),a=mr(()=>{if(Kt(t==null?void 0:t.disabled))return r.value;const c=Kt(t==null?void 0:t.scoped),d=Kt(t==null?void 0:t.reset),l=Kt(t==null?void 0:t.root);if(n.value==null&&!(c||d||l))return r.value;let u=vt(n.value,{prev:r.value});if(c)return u;if(d||l){const p=Number(d||1/0);for(let g=0;g<=p&&!(!u||!("prev"in u));g++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=vt(vt(u,{prev:u}),u[l])),u}return u.prev?vt(u.prev,u):u});return Ia(_r,a),a}function Yd(e,t){var r,n;return typeof((r=e.props)==null?void 0:r[t])<"u"||typeof((n=e.props)==null?void 0:n[bt(t)])<"u"}function Xd(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ws();const n=Rr("useDefaults");if(t=t??n.type.name??n.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const a=mr(()=>{var l;return(l=r.value)==null?void 0:l[e._as??t]}),o=new Proxy(e,{get(l,u){var g,T,A,E,S,_,m;const p=Reflect.get(l,u);return u==="class"||u==="style"?[(g=a.value)==null?void 0:g[u],p].filter($=>$!=null):typeof u=="string"&&!Yd(n.vnode,u)?((T=a.value)==null?void 0:T[u])!==void 0?(A=a.value)==null?void 0:A[u]:((S=(E=r.value)==null?void 0:E.global)==null?void 0:S[u])!==void 0?(m=(_=r.value)==null?void 0:_.global)==null?void 0:m[u]:p:p}}),c=Ta();Aa(()=>{if(a.value){const l=Object.entries(a.value).filter(u=>{let[p]=u;return p.startsWith(p[0].toUpperCase())});c.value=l.length?Object.fromEntries(l):void 0}else c.value=void 0});function d(){const l=Wd(_r,n);Ia(_r,mr(()=>c.value?vt((l==null?void 0:l.value)??{},c.value):l==null?void 0:l.value))}return{props:o,provideSubDefaults:d}}function lp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const{props:r,provideSubDefaults:n}=Xd(e,t);return n(),r}const Es=Symbol.for("vuetify:locale");function dp(){const e=Wr(Es);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function fp(){const e=Wr(Es);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}export{Fd as $,Qf as A,qf as B,xf as C,fp as D,cp as E,dp as F,vt as G,Hf as H,zd as I,ip as J,Cr as K,up as L,Rr as M,Jd as N,Md as O,Kf as P,cr as Q,If as R,Cf as S,tp as T,Na as U,kf as V,ep as W,zf as X,Lf as Y,rp as Z,ap as _,Rd as a,Bf as a0,Af as a1,Df as a2,Zf as a3,sp as a4,op as a5,Kd as a6,Hd as a7,Gd as a8,Mf as a9,Xf as aa,Vf as ab,Rf as ac,Tf as ad,Gf as ae,Bd as af,np as ag,yf as ah,Uf as ai,Ff as aj,Yf as ak,Wf as al,Jf as am,ws as an,Xd as ao,bt as ap,jf as aq,Of as ar,Nf as as,Ld as at,ef as au,bf as av,wf as aw,vf as ax,xd as b,Ad as c,bd as d,$f as e,af as f,lf as g,ff as h,df as i,tf as j,cf as k,of as l,uf as m,nf as n,sf as o,mf as p,hf as q,pf as r,Dd as s,_f as t,lp as u,rf as v,Ef as w,Pf as x,Sf as y,gf as z};
